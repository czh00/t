<!DOCTYPE html>
<html lang="zh-Hant">
<head>
	<meta charset="UTF-8">
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
	<title>æ™‚é–“</title>
	<style>
	       :root {
	           --page-background-color: #000; /* å®šç¾©é é¢èƒŒæ™¯è‰²çš„CSSè®Šæ•¸ï¼Œé è¨­ç‚ºé»‘è‰² */
	       }

	       *, *::before, *::after {
	           box-sizing: border-box; /* æ‰€æœ‰å…ƒç´ çš„ç›’æ¨¡å‹éƒ½ä½¿ç”¨é‚Šæ¡†ç›’æ¨¡å‹ */
	       }

	       body {
	           margin: 0; /* ç§»é™¤bodyé è¨­å¤–é‚Šè· */
	           overflow: hidden; /* éš±è—è¶…å‡ºè¦–å£çš„éƒ¨åˆ†ï¼Œé˜²æ­¢æ»¾å‹•æ¢å‡ºç¾ */
	           display: flex; /* ä½¿ç”¨Flexboxä½ˆå±€ */
	           flex-direction: column; /* å‚ç›´æ’åˆ—å­å…ƒç´  */
	           justify-content: center; /* æ°´å¹³å±…ä¸­å°é½Šå­å…ƒç´  */
	           align-items: center; /* å‚ç›´å±…ä¸­å°é½Šå­å…ƒç´  */
	           min-height: 100vh; /* æœ€å°é«˜åº¦ç‚ºè¦–å£é«˜åº¦çš„100% */
	           width: 100vw; /* å¯¬åº¦ç‚ºè¦–å£å¯¬åº¦çš„100% */
	           position: relative; /* ç›¸å°å®šä½ï¼Œç”¨æ–¼å­å…ƒç´ çš„çµ•å°å®šä½ */
	           font-family: 'Inter', sans-serif; /* è¨­å®šå­—é«”ç‚ºInteræˆ–ç„¡è¥¯ç·šå­—é«” */
	           background-color: var(--page-background-color); /* ä½¿ç”¨CSSè®Šæ•¸è¨­å®šèƒŒæ™¯è‰² */
	       }

	       #dateTimeDisplay {
	           font-family: 'Segoe UI', Arial, sans-serif; /* è¨­å®šæ—¥æœŸæ™‚é–“é¡¯ç¤ºçš„å­—é«” */
	           font-weight: bold; /* å­—é«”åŠ ç²— */
	           text-align: center; /* æ–‡å­—å±…ä¸­å°é½Š */
	           padding: 10px; /* å…§é‚Šè· */
	           text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5); /* æ–‡å­—é™°å½±æ•ˆæœ */
	           position: absolute; /* çµ•å°å®šä½ */
	           transition: transform 1s ease-in-out; /* è½‰æ›æ•ˆæœçš„éæ¸¡å‹•ç•« */
	           transform: translate(-50%, -50%); /* å°‡å…ƒç´ ä¸­å¿ƒé»ç§»åˆ°çˆ¶å…ƒç´ ä¸­å¿ƒ */
	           left: 50%; /* è·é›¢å·¦é‚Š50% */
	           top: 50%; /* è·é›¢é ‚éƒ¨50% */
	           cursor: default; /* é¼ æ¨™æ¨£å¼ç‚ºé è¨­ */
	           z-index: 10; /* Zè»¸å±¤ç´šï¼Œç¢ºä¿åœ¨å…¶ä»–å…ƒç´ ä¹‹ä¸Š */
	       }

	       .time-text {
	           font-size: 32vw; /* æ™‚é–“æ–‡å­—å¤§å°ï¼Œæ ¹æ“šè¦–å£å¯¬åº¦èª¿æ•´ */
	           margin-bottom: -10vw; /* è² å¤–é‚Šè·ï¼Œä½¿è¡Œé–“è·æ›´ç·Šæ¹Š */
	           position: relative; /* ç›¸å°å®šä½ */
	           display: inline-block; /* è¡Œå…§å¡Šç´šå…ƒç´  */
	           white-space: nowrap; /* é˜²æ­¢æ–‡å­—æ›è¡Œ */
	           padding-right: 8vw; /* å³å´å…§é‚Šè· */
	       }

	       .time-seconds {
	           font-size: 6vw; /* ç§’æ•¸æ–‡å­—å¤§å° */
	           cursor: pointer; /* é¼ æ¨™æ¨£å¼ç‚ºæ‰‹å‹ */
	           position: absolute; /* çµ•å°å®šä½ */
	           right: 0; /* è·é›¢å³é‚Š0 */
	           bottom: 6vw; /* è·é›¢åº•éƒ¨6vw */
	           text-align: right; /* æ–‡å­—å³å°é½Š */
	           width: 6vw; /* å¯¬åº¦ */
	       }

	       .time-ampm {
	           font-size: 5vw; /* ä¸Šåˆ/ä¸‹åˆæ–‡å­—å¤§å° */
	           position: absolute; /* çµ•å°å®šä½ */
	           top: 11vw; /* è·é›¢é ‚éƒ¨11vw */
	           right: 0; /* è·é›¢å³é‚Š0 */
	           text-align: right; /* æ–‡å­—å³å°é½Š */
	           width: 8vw; /* å¯¬åº¦ */
	       }

	       .gregorian-date-text {
	           font-size: 10vw; /* å…¬æ›†æ—¥æœŸæ–‡å­—å¤§å° */
	           margin-top: -2vw; /* è² ä¸Šå¤–é‚Šè· */
	           margin-bottom: -3vw; /* è² ä¸‹å¤–é‚Šè· */
	           display: block; /* å¡Šç´šå…ƒç´  */
	           white-space: nowrap; /* é˜²æ­¢æ–‡å­—æ›è¡Œ */
	           cursor: pointer; /* é¼ æ¨™æ¨£å¼ç‚ºæ‰‹å‹ */
	           position: relative; /* ç›¸å°å®šä½ */
	           z-index: 1; /* Zè»¸å±¤ç´š */
	       }

	       .lunar-and-jieqi-line {
	           display: flex; /* ä½¿ç”¨Flexboxä½ˆå±€ */
	           justify-content: center; /* æ°´å¹³å±…ä¸­å°é½Šå­å…ƒç´  */
	           align-items: center; /* å‚ç›´å±…ä¸­å°é½Šå­å…ƒç´  */
	           font-size: 6.4vw; /* è¾²æ›†å’Œç¯€æ°£è¡Œæ–‡å­—å¤§å° */
	           white-space: nowrap; /* é˜²æ­¢æ–‡å­—æ›è¡Œ */
	           width: 92vw; /* å¯¬åº¦ */
	           margin: 0 auto; /* æ°´å¹³å±…ä¸­ */
	           overflow: hidden; /* éš±è—è¶…å‡ºå®¹å™¨çš„éƒ¨åˆ† */
	           position: relative; /* ç›¸å°å®šä½ */
	           z-index: 1; /* Zè»¸å±¤ç´š */
	       }

	       .lunar-date-static-text {
	           flex-shrink: 0; /* ä¸ç¸®å° */
	           text-align: right; /* æ–‡å­—å³å°é½Š */
	           cursor: pointer; /* é¼ æ¨™æ¨£å¼ç‚ºæ‰‹å‹ */
	       }

	       .jieqi-holiday-marquee-container {
	           flex-grow: 1; /* ä½”æ»¿å‰©é¤˜ç©ºé–“ */
	           overflow: hidden; /* éš±è—è¶…å‡ºå®¹å™¨çš„éƒ¨åˆ† */
	           position: relative; /* ç›¸å°å®šä½ */
	           text-align: left; /* æ–‡å­—å·¦å°é½Š */
	           min-width: 0; /* æœ€å°å¯¬åº¦ç‚º0 */
	           cursor: pointer; /* é¼ æ¨™æ¨£å¼ç‚ºæ‰‹å‹ */
	       }

	       .jieqi-holiday-marquee-inner {
	           display: flex; /* ä½¿ç”¨Flexboxä½ˆå±€ */
	           flex-wrap: nowrap; /* ä¸æ›è¡Œ */
	           width: fit-content; /* å¯¬åº¦é©æ‡‰å…§å®¹ */
	           will-change: transform; /* æç¤ºç€è¦½å™¨transformå±¬æ€§å°‡æœƒæ”¹è®Šï¼Œå„ªåŒ–å‹•ç•«æ€§èƒ½ */
	       }

	       .jieqi-holiday-marquee-content,
	       .jieqi-holiday-marquee-content-duplicate {
	           display: inline-block; /* è¡Œå…§å¡Šç´šå…ƒç´  */
	           white-space: nowrap; /* é˜²æ­¢æ–‡å­—æ›è¡Œ */
	           flex-shrink: 0; /* ä¸ç¸®å° */
	       }

	       .jieqi-holiday-marquee-container.scrolling .jieqi-holiday-marquee-inner {
	           animation-name: marquee; /* æ‡‰ç”¨marqueeå‹•ç•« */
	           animation-timing-function: linear; /* ç·šæ€§å‹•ç•« */
	           animation-iteration-count: infinite; /* ç„¡é™æ¬¡é‡è¤‡å‹•ç•« */
	       }

	       @keyframes marquee {
	           from {
	               transform: translateX(0); /* å¾åŸå§‹ä½ç½®é–‹å§‹ */
	           }
	           to {
	               transform: translateX(-50%); /* ç§»å‹•åˆ°å·¦å´50%çš„ä½ç½® */
	           }
	       }

	       .noscript-message {
	           font-size: 0.5em; /* å­—é«”å¤§å° */
	           color: #FFB3BA; /* æ–‡å­—é¡è‰² */
	           margin-top: 10px; /* ä¸Šå¤–é‚Šè· */
	       }

	       .modal {
	           display: none; /* é è¨­éš±è— */
	           position: fixed; /* å›ºå®šå®šä½ */
	           z-index: 100; /* Zè»¸å±¤ç´šï¼Œç¢ºä¿åœ¨æ‰€æœ‰å…ƒç´ ä¹‹ä¸Š */
	           left: 0; /* è·é›¢å·¦é‚Š0 */
	           top: 0; /* è·é›¢é ‚éƒ¨0 */
	           width: 100%; /* å¯¬åº¦ä½”æ»¿æ•´å€‹è¦–å£ */
	           height: 100%; /* é«˜åº¦ä½”æ»¿æ•´å€‹è¦–å£ */
	           overflow: auto; /* å…§å®¹æº¢å‡ºæ™‚é¡¯ç¤ºæ»¾å‹•æ¢ */
	           background-color: rgba(0, 0, 0, 0.7); /* åŠé€æ˜é»‘è‰²èƒŒæ™¯ */
	       }

	       .modal.is-active {
	           display: flex; /* é¡¯ç¤ºç‚ºFlexboxä½ˆå±€ */
	           justify-content: center; /* æ°´å¹³å±…ä¸­å°é½Šå­å…ƒç´  */
	           align-items: center; /* å‚ç›´å±…ä¸­å°é½Šå­å…ƒç´  */
	       }

	       .modal-content {
	           background-color: #333; /* èƒŒæ™¯è‰² */
	           margin: auto; /* è‡ªå‹•å¤–é‚Šè·ï¼Œå¯¦ç¾æ°´å¹³å‚ç›´å±…ä¸­ */
	           padding: 10px; /* å…§é‚Šè· */
	           border: 1px solid #888; /* é‚Šæ¡† */
	           width: 90%; /* å¯¬åº¦ */
	           max-width: 600px; /* æœ€å¤§å¯¬åº¦ */
	           border-radius: 10px; /* åœ“è§’é‚Šæ¡† */
	           box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5); /* é™°å½±æ•ˆæœ */
	           color: #00FF00; /* æ–‡å­—é¡è‰² */
	           text-align: center; /* æ–‡å­—å±…ä¸­å°é½Š */
	           display: flex; /* ä½¿ç”¨Flexboxä½ˆå±€ */
	           flex-direction: column; /* å‚ç›´æ’åˆ—å­å…ƒç´  */
	           gap: 15px; /* å­å…ƒç´ ä¹‹é–“çš„é–“è· */
	           max-height: 90vh; /* æœ€å¤§é«˜åº¦ç‚ºè¦–å£é«˜åº¦çš„90% */
	           overflow-y: auto; /* å‚ç›´æ–¹å‘å…§å®¹æº¢å‡ºæ™‚é¡¯ç¤ºæ»¾å‹•æ¢ */
	       }

	       .setting-item {
	           margin-bottom: 15px; /* ä¸‹å¤–é‚Šè· */
	           display: flex; /* ä½¿ç”¨Flexboxä½ˆå±€ */
	           justify-content: space-between; /* å­å…ƒç´ å…©ç«¯å°é½Š */
	           align-items: center; /* å‚ç›´å±…ä¸­å°é½Šå­å…ƒç´  */
	           flex-wrap: nowrap; /* ä¸æ›è¡Œ */
	       }

	       .setting-item label {
	           font-size: 1.2em; /* å­—é«”å¤§å° */
	           flex-shrink: 0; /* ä¸ç¸®å° */
	           margin-right: 10px; /* å³å¤–é‚Šè· */
	       }

	       .switch {
	           position: relative; /* ç›¸å°å®šä½ */
	           display: inline-block; /* è¡Œå…§å¡Šç´šå…ƒç´  */
	           width: 60px; /* å¯¬åº¦ */
	           height: 34px; /* é«˜åº¦ */
	           margin-left: auto; /* å·¦å¤–é‚Šè·è‡ªå‹•ï¼Œå°‡å…ƒç´ æ¨åˆ°å³å´ */
	           margin-right: 10px; /* å³å¤–é‚Šè· */
	           flex-shrink: 0; /* ä¸ç¸®å° */
	       }

	       .switch input {
	           opacity: 0; /* éš±è—è¼¸å…¥æ¡† */
	           width: 0; /* å¯¬åº¦ç‚º0 */
	           height: 0; /* é«˜åº¦ç‚º0 */
	       }

	       .slider {
	           position: absolute; /* çµ•å°å®šä½ */
	           cursor: pointer; /* é¼ æ¨™æ¨£å¼ç‚ºæ‰‹å‹ */
	           top: 0; /* è·é›¢é ‚éƒ¨0 */
	           left: 0; /* è·é›¢å·¦é‚Š0 */
	           right: 0; /* è·é›¢å³é‚Š0 */
	           bottom: 0; /* è·é›¢åº•éƒ¨0 */
	           background-color: #ccc; /* èƒŒæ™¯è‰² */
	           -webkit-transition: .4s; /* Webkitç€è¦½å™¨éæ¸¡å‹•ç•« */
	           transition: .4s; /* éæ¸¡å‹•ç•« */
	           border-radius: 34px; /* åœ“è§’é‚Šæ¡† */
	       }

	       .slider:before {
	           position: absolute; /* çµ•å°å®šä½ */
	           content: ""; /* å…§å®¹ç‚ºç©º */
	           height: 26px; /* é«˜åº¦ */
	           width: 26px; /* å¯¬åº¦ */
	           left: 4px; /* è·é›¢å·¦é‚Š4px */
	           bottom: 4px; /* è·é›¢åº•éƒ¨4px */
	           background-color: white; /* èƒŒæ™¯è‰² */
	           -webkit-transition: .4s; /* Webkitç€è¦½å™¨éæ¸¡å‹•ç•« */
	           transition: .4s; /* éæ¸¡å‹•ç•« */
	           border-radius: 50%; /* åœ“å½¢ */
	       }

	       input:checked + .slider {
	           background-color: #00FF00; /* é¸ä¸­æ™‚æ»‘å¡ŠèƒŒæ™¯è‰² */
	       }

	       input:focus + .slider {
	           box-shadow: 0 0 1px #00FF00; /* èšç„¦æ™‚æ»‘å¡Šé™°å½± */
	       }

	       input:checked + .slider:before {
	           -webkit-transform: translateX(26px); /* Webkitç€è¦½å™¨æ»‘å¡Šç§»å‹• */
	           -ms-transform: translateX(26px); /* IEç€è¦½å™¨æ»‘å¡Šç§»å‹• */
	           transform: translateX(26px); /* æ»‘å¡Šç§»å‹• */
	       }

	       .setting-item input[type="color"] {
	           width: 40px; /* å¯¬åº¦ */
	           height: 34px; /* é«˜åº¦ */
	           border: none; /* ç„¡é‚Šæ¡† */
	           padding: 0; /* ç„¡å…§é‚Šè· */
	           background: none; /* ç„¡èƒŒæ™¯ */
	           cursor: pointer; /* é¼ æ¨™æ¨£å¼ç‚ºæ‰‹å‹ */
	           flex-shrink: 0; /* ä¸ç¸®å° */
	       }

	       .action-button {
	           background-color: #555; /* èƒŒæ™¯è‰² */
	           color: white; /* æ–‡å­—é¡è‰² */
	           padding: 10px 20px; /* å…§é‚Šè· */
	           border: none; /* ç„¡é‚Šæ¡† */
	           border-radius: 5px; /* åœ“è§’é‚Šæ¡† */
	           cursor: pointer; /* é¼ æ¨™æ¨£å¼ç‚ºæ‰‹å‹ */
	           font-size: 1.1em; /* å­—é«”å¤§å° */
	           margin-top: 0px; /* ä¸Šå¤–é‚Šè· */
	       }

	       .action-button:hover {
	           background-color: #777; /* é¼ æ¨™æ‡¸åœæ™‚èƒŒæ™¯è‰² */
	       }

	       .button-group {
	           display: flex; /* ä½¿ç”¨Flexboxä½ˆå±€ */
	           justify-content: center; /* æ°´å¹³å±…ä¸­å°é½Šå­å…ƒç´  */
	           gap: 10px; /* å­å…ƒç´ ä¹‹é–“çš„é–“è· */
	           margin-top: 0px; /* ä¸Šå¤–é‚Šè· */
	           white-space: nowrap; /* é˜²æ­¢æ–‡å­—æ›è¡Œ */
	       }

	       .calendar-settings-container {
	           display: flex; /* ä½¿ç”¨Flexboxä½ˆå±€ */
	           flex-wrap: wrap; /* å…è¨±æ›è¡Œ */
	           gap: 20px; /* å­å…ƒç´ ä¹‹é–“çš„é–“è· */
	           justify-content: space-around; /* å­å…ƒç´ å…©ç«¯å°é½Šï¼Œä¸­é–“åˆ†ä½ˆç©ºé–“ */
	           width: 100%; /* å¯¬åº¦ä½”æ»¿çˆ¶å…ƒç´  */
	       }

	       .gregorian-settings-column,
	       .lunar-settings-column {
	           flex: 1; /* ä½”æ»¿å‰©é¤˜ç©ºé–“ */
	           min-width: 80px; /* æœ€å°å¯¬åº¦ */
	           padding: 10px; /* å…§é‚Šè· */
	           border: 1px solid #555; /* é‚Šæ¡† */
	           border-radius: 8px; /* åœ“è§’é‚Šæ¡† */
	           background-color: #444; /* èƒŒæ™¯è‰² */
	           text-align: left; /* æ–‡å­—å·¦å°é½Š */
	       }

	       .gregorian-settings-column h3,
	       .lunar-settings-column h3 {
	           text-align: center; /* æ–‡å­—å±…ä¸­å°é½Š */
	           margin-top: 0; /* ç§»é™¤ä¸Šå¤–é‚Šè· */
	       }

	       .lunar-date-clickable,
	       .lunar-shichen-clickable {
	           cursor: pointer; /* é¼ æ¨™æ¨£å¼ç‚ºæ‰‹å‹ */
	       }

	       .yiji-content p, .jieqi-content p {
	           margin-bottom: 10px; /* ä¸‹å¤–é‚Šè· */
	           font-size: 1.5em; /* å­—é«”å¤§å° */
	           line-height: 1.6; /* è¡Œé«˜ */
	       }
	       .yiji-content strong, .jieqi-content strong {
	           color: #FFD700; /* æ–‡å­—é¡è‰² */
	       }

	       .calendar-header {
	           display: flex; /* ä½¿ç”¨Flexboxä½ˆå±€ */
	           justify-content: space-between; /* å­å…ƒç´ å…©ç«¯å°é½Š */
	           align-items: center; /* å‚ç›´å±…ä¸­å°é½Šå­å…ƒç´  */
	           padding: 0 10px; /* æ°´å¹³å…§é‚Šè· */
	       }

	       .calendar-header h2 {
	           margin: 0; /* ç§»é™¤å¤–é‚Šè· */
	           font-size: 1.5em; /* å­—é«”å¤§å° */
	           color: #00FF00; /* æ–‡å­—é¡è‰² */
	       }

	       .calendar-header button {
	           background: none; /* ç„¡èƒŒæ™¯ */
	           border: none; /* ç„¡é‚Šæ¡† */
	           color: #00FF00; /* æ–‡å­—é¡è‰² */
	           font-size: 2em; /* å­—é«”å¤§å° */
	           cursor: pointer; /* é¼ æ¨™æ¨£å¼ç‚ºæ‰‹å‹ */
	       }

	       .calendar-content {
	           background-color: #2c2c2c; /* èƒŒæ™¯è‰² */
	           margin: auto; /* è‡ªå‹•å¤–é‚Šè·ï¼Œå¯¦ç¾æ°´å¹³å‚ç›´å±…ä¸­ */
	           padding: 20px; /* å…§é‚Šè· */
	           border: 1px solid #888; /* é‚Šæ¡† */
	           width: 95%; /* å¯¬åº¦ */
	           max-width: 800px; /* æœ€å¤§å¯¬åº¦ */
	           border-radius: 10px; /* åœ“è§’é‚Šæ¡† */
	           box-shadow: 0 5px 15px rgba(0, 0, 0, 0.6); /* é™°å½±æ•ˆæœ */
	           color: #e0e0e0; /* æ–‡å­—é¡è‰² */
	           text-align: center; /* æ–‡å­—å±…ä¸­å°é½Š */
	           display: flex; /* ä½¿ç”¨Flexboxä½ˆå±€ */
	           flex-direction: column; /* å‚ç›´æ’åˆ—å­å…ƒç´  */
	           gap: 15px; /* å­å…ƒç´ ä¹‹é–“çš„é–“è· */
	           max-height: 90vh; /* æœ€å¤§é«˜åº¦ç‚ºè¦–å£é«˜åº¦çš„90% */
	       }

	       .calendar-weekdays, .calendar-grid {
	           display: grid; /* ä½¿ç”¨Gridä½ˆå±€ */
	           grid-template-columns: repeat(7, 1fr); /* 7åˆ—ï¼Œæ¯åˆ—ç­‰å¯¬ */
	           gap: 5px; /* ç¶²æ ¼é–“è· */
	       }

	       .calendar-weekdays div {
	           font-weight: bold; /* å­—é«”åŠ ç²— */
	           color: #aaa; /* æ–‡å­—é¡è‰² */
	           padding-bottom: 5px; /* åº•éƒ¨å…§é‚Šè· */
	       }

	       .calendar-day {
	           background-color: #444; /* èƒŒæ™¯è‰² */
	           border-radius: 5px; /* åœ“è§’é‚Šæ¡† */
	           padding: 5px; /* å…§é‚Šè· */
	           min-height: 60px; /* æœ€å°é«˜åº¦ */
	           display: flex; /* ä½¿ç”¨Flexboxä½ˆå±€ */
	           flex-direction: column; /* å‚ç›´æ’åˆ—å­å…ƒç´  */
	           justify-content: space-between; /* å­å…ƒç´ å…©ç«¯å°é½Š */
	           align-items: center; /* å‚ç›´å±…ä¸­å°é½Šå­å…ƒç´  */
	           font-size: 0.9em; /* å­—é«”å¤§å° */
	           border: 1px solid #555; /* é‚Šæ¡† */
	       }

	       .calendar-day.other-month {
	           color: #777; /* å…¶ä»–æœˆä»½çš„æ—¥æœŸæ–‡å­—é¡è‰² */
	           background-color: #3a3a3a; /* å…¶ä»–æœˆä»½çš„æ—¥æœŸèƒŒæ™¯è‰² */
	       }

	       .calendar-day.is-today {
	           border-color: #00FF00; /* ä»Šå¤©æ—¥æœŸçš„é‚Šæ¡†é¡è‰² */
	           box-shadow: 0 0 5px #00FF00; /* ä»Šå¤©æ—¥æœŸçš„é™°å½±æ•ˆæœ */
	       }

	       .calendar-day .gregorian-day {
	           font-size: 1.2em; /* å…¬æ›†æ—¥æœŸæ–‡å­—å¤§å° */
	           font-weight: bold; /* å­—é«”åŠ ç²— */
	       }

	       .calendar-day .lunar-day {
	           font-size: 0.8em; /* è¾²æ›†æ—¥æœŸæ–‡å­—å¤§å° */
	           color: #ccc; /* æ–‡å­—é¡è‰² */
	       }

	       .weekly-calendar-content {
	            background-color: #2c2c2c; /* èƒŒæ™¯è‰² */
	           margin: auto; /* è‡ªå‹•å¤–é‚Šè·ï¼Œå¯¦ç¾æ°´å¹³å‚ç›´å±…ä¸­ */
	           padding: 15px; /* å…§é‚Šè· */
	           border: 1px solid #888; /* é‚Šæ¡† */
	           width: 98%; /* å¯¬åº¦ */
	           max-width: 1200px; /* æœ€å¤§å¯¬åº¦ */
	           border-radius: 10px; /* åœ“è§’é‚Šæ¡† */
	           box-shadow: 0 5px 15px rgba(0, 0, 0, 0.6); /* é™°å½±æ•ˆæœ */
	           color: #e0e0e0; /* æ–‡å­—é¡è‰² */
	           text-align: center; /* æ–‡å­—å±…ä¸­å°é½Š */
	           display: flex; /* ä½¿ç”¨Flexboxä½ˆå±€ */
	           flex-direction: column; /* å‚ç›´æ’åˆ—å­å…ƒç´  */
	           gap: 10px; /* å­å…ƒç´ ä¹‹é–“çš„é–“è· */
	           max-height: 90vh; /* æœ€å¤§é«˜åº¦ç‚ºè¦–å£é«˜åº¦çš„90% */
	       }

	       .weekly-calendar-grid {
	           display: grid; /* ä½¿ç”¨Gridä½ˆå±€ */
	           grid-template-columns: repeat(7, 1fr); /* 7åˆ—ï¼Œæ¯åˆ—ç­‰å¯¬ */
	           gap: 5px; /* ç¶²æ ¼é–“è· */
	       }

	       .weekly-calendar-day {
	           background-color: #444; /* èƒŒæ™¯è‰² */
	           border-radius: 8px; /* åœ“è§’é‚Šæ¡† */
	           padding: 10px; /* å…§é‚Šè· */
	           min-height: 100px; /* æœ€å°é«˜åº¦ */
	           display: flex; /* ä½¿ç”¨Flexboxä½ˆå±€ */
	           flex-direction: column; /* å‚ç›´æ’åˆ—å­å…ƒç´  */
	           align-items: center; /* å‚ç›´å±…ä¸­å°é½Šå­å…ƒç´  */
	           border: 1px solid #555; /* é‚Šæ¡† */
	       }

	       .weekly-calendar-day.is-today {
	           border-color: #00FF00; /* ä»Šå¤©æ—¥æœŸçš„é‚Šæ¡†é¡è‰² */
	           box-shadow: 0 0 8px #00FF00; /* ä»Šå¤©æ—¥æœŸçš„é™°å½±æ•ˆæœ */
	       }

	       .weekly-day-header {
	           font-weight: bold; /* å­—é«”åŠ ç²— */
	           font-size: 1.1em; /* å­—é«”å¤§å° */
	           margin-bottom: 5px; /* ä¸‹å¤–é‚Šè· */
	       }

	       .weekly-gregorian-day {
	           font-size: 1.5em; /* å…¬æ›†æ—¥æœŸæ–‡å­—å¤§å° */
	           font-weight: bold; /* å­—é«”åŠ ç²— */
	       }
	       
	       .weekly-lunar-day {
	           font-size: 0.9em; /* è¾²æ›†æ—¥æœŸæ–‡å­—å¤§å° */
	           color: #ccc; /* æ–‡å­—é¡è‰² */
	           margin-top: 5px; /* ä¸Šå¤–é‚Šè· */
	       }
	       
	       .yearly-calendar-content {
	           background-color: #2c2c2c; /* èƒŒæ™¯è‰² */
	           margin: auto; /* è‡ªå‹•å¤–é‚Šè·ï¼Œå¯¦ç¾æ°´å¹³å‚ç›´å±…ä¸­ */
	           padding: 15px; /* å…§é‚Šè· */
	           border: 1px solid #888; /* é‚Šæ¡† */
	           width: 98%; /* å¯¬åº¦ */
	           max-width: 1400px; /* æœ€å¤§å¯¬åº¦ */
	           border-radius: 10px; /* åœ“è§’é‚Šæ¡† */
	           box-shadow: 0 5px 15px rgba(0, 0, 0, 0.6); /* é™°å½±æ•ˆæœ */
	           color: #e0e0e0; /* æ–‡å­—é¡è‰² */
	           display: flex; /* ä½¿ç”¨Flexboxä½ˆå±€ */
	           flex-direction: column; /* å‚ç›´æ’åˆ—å­å…ƒç´  */
	           gap: 10px; /* å­å…ƒç´ ä¹‹é–“çš„é–“è· */
	           max-height: 95vh; /* æœ€å¤§é«˜åº¦ç‚ºè¦–å£é«˜åº¦çš„95% */
	       }

	       .yearly-calendar-grid {
	           display: grid; /* ä½¿ç”¨Gridä½ˆå±€ */
	           grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* è‡ªå‹•èª¿æ•´åˆ—æ•¸ï¼Œæ¯åˆ—æœ€å°300pxï¼Œæœ€å¤§1fr */
	           gap: 15px; /* ç¶²æ ¼é–“è· */
	           overflow-y: auto; /* å‚ç›´æ–¹å‘å…§å®¹æº¢å‡ºæ™‚é¡¯ç¤ºæ»¾å‹•æ¢ */
	           padding: 10px; /* å…§é‚Šè· */
	       }

	       .yearly-month-container {
	           background-color: #3a3a3a; /* èƒŒæ™¯è‰² */
	           border-radius: 8px; /* åœ“è§’é‚Šæ¡† */
	           padding: 10px; /* å…§é‚Šè· */
	           border: 1px solid #555; /* é‚Šæ¡† */
	       }

	       .yearly-month-header {
	           font-size: 1.2em; /* å­—é«”å¤§å° */
	           font-weight: bold; /* å­—é«”åŠ ç²— */
	           text-align: center; /* æ–‡å­—å±…ä¸­å°é½Š */
	           margin-bottom: 10px; /* ä¸‹å¤–é‚Šè· */
	           color: #00FF00; /* æ–‡å­—é¡è‰² */
	       }

	       .yearly-weekdays, .yearly-day-grid {
	           display: grid; /* ä½¿ç”¨Gridä½ˆå±€ */
	           grid-template-columns: repeat(7, 1fr); /* 7åˆ—ï¼Œæ¯åˆ—ç­‰å¯¬ */
	           gap: 3px; /* ç¶²æ ¼é–“è· */
	           text-align: center; /* æ–‡å­—å±…ä¸­å°é½Š */
	       }

	       .yearly-weekdays div {
	           font-size: 0.8em; /* å­—é«”å¤§å° */
	           color: #aaa; /* æ–‡å­—é¡è‰² */
	       }

	       .yearly-day {
	           font-size: 0.9em; /* å­—é«”å¤§å° */
	           padding: 2px; /* å…§é‚Šè· */
	           border-radius: 3px; /* åœ“è§’é‚Šæ¡† */
	       }

	       .yearly-day.is-today {
	           background-color: #00FF00; /* ä»Šå¤©æ—¥æœŸçš„èƒŒæ™¯è‰² */
	           color: #000; /* ä»Šå¤©æ—¥æœŸçš„æ–‡å­—é¡è‰² */
	           font-weight: bold; /* å­—é«”åŠ ç²— */
	       }

	       #background-scanline-overlay {
	           position: fixed; /* å›ºå®šå®šä½ */
	           top: 0; /* è·é›¢é ‚éƒ¨0 */
	           left: 0; /* è·é›¢å·¦é‚Š0 */
	           width: 100%; /* å¯¬åº¦ä½”æ»¿æ•´å€‹è¦–å£ */
	           height: 100%; /* é«˜åº¦ä½”æ»¿æ•´å€‹è¦–å£ */
	           pointer-events: none; /* ç¦ç”¨é¼ æ¨™äº‹ä»¶ */
	           z-index: 1; /* Zè»¸å±¤ç´š */
	           background-color: transparent; /* é€æ˜èƒŒæ™¯ */
	           display: none; /* é è¨­éš±è— */
	       }

	       #background-scanline-overlay.active.pattern-a {
	           display: block; /* é¡¯ç¤ºç‚ºå¡Šç´šå…ƒç´  */
	           background-image: repeating-linear-gradient( /* é‡è¤‡ç·šæ€§æ¼¸è®ŠèƒŒæ™¯ */
	               to bottom, /* å¾ä¸Šåˆ°ä¸‹ */
	               transparent, /* é€æ˜ */
	               transparent 2px, /* é€æ˜2px */
	               rgba(0,0,0,0.3) 2px, /* åŠé€æ˜é»‘è‰²2px */
	               rgba(0,0,0,0.3) 4px /* åŠé€æ˜é»‘è‰²4px */
	           );
	       }

	       #background-scanline-overlay.active.pattern-b {
	           display: block; /* é¡¯ç¤ºç‚ºå¡Šç´šå…ƒç´  */
	           background-image: repeating-linear-gradient( /* é‡è¤‡ç·šæ€§æ¼¸è®ŠèƒŒæ™¯ */
	               to bottom, /* å¾ä¸Šåˆ°ä¸‹ */
	               rgba(0,0,0,0.3) 0, /* åŠé€æ˜é»‘è‰²0 */
	               rgba(0,0,0,0.3) 2px, /* åŠé€æ˜é»‘è‰²2px */
	               transparent 2px, /* é€æ˜2px */
	               transparent 4px /* é€æ˜4px */
	           );
	       }

	       #text-scanline-overlay {
	           position: fixed; /* å›ºå®šå®šä½ */
	           top: 0; /* è·é›¢é ‚éƒ¨0 */
	           left: 0; /* è·é›¢å·¦é‚Š0 */
	           width: 100%; /* å¯¬åº¦ä½”æ»¿æ•´å€‹è¦–å£ */
	           height: 100%; /* é«˜åº¦ä½”æ»¿æ•´å€‹è¦–å£ */
	           pointer-events: none; /* ç¦ç”¨é¼ æ¨™äº‹ä»¶ */
	           z-index: 50; /* Zè»¸å±¤ç´šï¼Œåœ¨æ–‡å­—ä¹‹ä¸Šï¼Œå½ˆå‡ºè¦–çª—ä¹‹ä¸‹ */
	           background-color: transparent; /* é€æ˜èƒŒæ™¯ */
	           display: none; /* é è¨­éš±è— */
	       }

	       #text-scanline-overlay.active.pattern-a {
	           display: block; /* é¡¯ç¤ºç‚ºå¡Šç´šå…ƒç´  */
	           background-image: repeating-linear-gradient( /* é‡è¤‡ç·šæ€§æ¼¸è®ŠèƒŒæ™¯ */
	               to bottom, /* å¾ä¸Šåˆ°ä¸‹ */
	               transparent, /* é€æ˜ */
	               transparent 2px, /* é€æ˜2px */
	               var(--page-background-color) 2px, /* é é¢èƒŒæ™¯è‰²2px */
	               var(--page-background-color) 4px /* é é¢èƒŒæ™¯è‰²4px */
	           );
	       }

	       #text-scanline-overlay.active.pattern-b {
	           display: block; /* é¡¯ç¤ºç‚ºå¡Šç´šå…ƒç´  */
	           background-image: repeating-linear-gradient( /* é‡è¤‡ç·šæ€§æ¼¸è®ŠèƒŒæ™¯ */
	               to bottom, /* å¾ä¸Šåˆ°ä¸‹ */
	               var(--page-background-color) 0, /* é é¢èƒŒæ™¯è‰²0 */
	               var(--page-background-color) 2px, /* é é¢èƒŒæ™¯è‰²2px */
	               transparent 2px, /* é€æ˜2px */
	               transparent 4px /* é€æ˜4px */
	           );
	       }

            /* å…¨è¢å¹•åœ–ç¤ºæ¨£å¼ */
            #fullscreen-icon {
                position: fixed; /* å›ºå®šå®šä½ */
                top: 20px; /* è·é›¢é ‚éƒ¨20px */
                right: 20px; /* è·é›¢å³é‚Š20px */
                width: 32px; /* å¯¬åº¦ */
                height: 32px; /* é«˜åº¦ */
                cursor: pointer; /* é¼ æ¨™æ¨£å¼ç‚ºæ‰‹å‹ */
                z-index: 200; /* Zè»¸å±¤ç´šï¼Œç¢ºä¿åœ¨å½ˆå‡ºè¦–çª—ä¹‹ä¸Š */
                opacity: 0.5; /* é€æ˜åº¦ */
                transition: opacity 0.3s ease; /* éæ¸¡å‹•ç•« */
            }

            #fullscreen-icon svg {
                width: 100%; /* å¯¬åº¦ä½”æ»¿çˆ¶å…ƒç´  */
                height: 100%; /* é«˜åº¦ä½”æ»¿çˆ¶å…ƒç´  */
                fill: #fff; /* SVGå¡«å……é¡è‰²ç‚ºç™½è‰² */
            }

            #fullscreen-icon:hover {
                opacity: 1; /* é¼ æ¨™æ‡¸åœæ™‚å®Œå…¨ä¸é€æ˜ */
            }

	</style>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/lunar-javascript/1.7.0/lunar.min.js">
	</script>
</head>
<body>
    <!-- å…¨è¢å¹•åœ–ç¤º -->
    <div id="fullscreen-icon" title="å…¨è¢å¹•/é€€å‡ºå…¨è¢å¹•">
        <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"></path>
        </svg>
    </div>

	<div id="background-scanline-overlay"></div>
	<div id="text-scanline-overlay"></div>
	<div id="dateTimeDisplay">
		<div class="time-text" id="timeTextContainer">
			<span id="hoursMinutesDisplay"></span> <span class="time-seconds" id="secondsDisplay"></span> <span class="time-ampm" id="amPmDisplay"></span>
		</div>
		<div class="gregorian-date-text" id="gregorianDateDisplay"></div>
		<div class="lunar-and-jieqi-line" id="lunarAndJieqiLine">
			<span class="lunar-date-static-text" id="lunarDateDisplay"></span>
			<div class="jieqi-holiday-marquee-container" id="jieqiHolidayMarqueeContainer">
				<div class="jieqi-holiday-marquee-inner" id="jieqiHolidayMarqueeInner">
					<span class="jieqi-holiday-marquee-content"></span> <span class="jieqi-holiday-marquee-content-duplicate"></span>
				</div>
			</div>
		</div>
	</div><noscript>
	<div class="noscript-message">
		æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´æˆ–å·²ç¦ç”¨ JavaScriptã€‚
	</div></noscript> <!-- è¨­å®š Modal -->
	<div class="modal" id="settingsModal">
		<div class="modal-content">
			<h2>é¡¯ç¤ºè¨­å®š</h2>
			<div class="calendar-settings-container">
				<div class="gregorian-settings-column">
					<h3>å…¬æ›†</h3>
					<div class="setting-item">
						<label for="textColor">æ™‚é–“</label> <label class="switch" title="åˆ‡æ›ä¸Šåˆ/ä¸‹åˆæ ¼å¼"><input id="showAmPm" type="checkbox"> <span class="slider"></span></label> <input id="textColor" type="color" value="#00FF00">
					</div>
					<div class="setting-item">
						<label for="showGregorianYear">å¹´</label> <label class="switch"><input id="showGregorianYear" type="checkbox"> <span class="slider"></span></label> <input id="gregorianYearColor" type="color" value="#00FF00">
					</div>
					<div class="setting-item">
						<label for="showGregorianMonth">æœˆ</label> <label class="switch"><input id="showGregorianMonth" type="checkbox"> <span class="slider"></span></label> <input id="gregorianMonthColor" type="color" value="#00FF00">
					</div>
					<div class="setting-item">
						<label for="showGregorianDay">æ—¥</label> <label class="switch"><input id="showGregorianDay" type="checkbox"> <span class="slider"></span></label> <input id="gregorianDayColor" type="color" value="#00FF00">
					</div>
					<div class="setting-item">
						<label for="showGregorianWeekday">å‘¨</label> <label class="switch"><input id="showGregorianWeekday" type="checkbox"> <span class="slider"></span></label> <input id="gregorianWeekdayColor" type="color" value="#00FF00">
					</div>
				</div>
				<div class="lunar-settings-column">
					<h3>è¾²æ›†</h3>
					<div class="setting-item">
						<label for="showMinguoYear">å¹´</label> <label class="switch"><input id="showMinguoYear" type="checkbox"> <span class="slider"></span></label> <input id="minguoYearColor" type="color" value="#00FF00">
					</div>
					<div class="setting-item">
						<label for="showLunarMonth">æœˆ</label> <label class="switch"><input id="showLunarMonth" type="checkbox"> <span class="slider"></span></label> <input id="lunarMonthColor" type="color" value="#00FF00">
					</div>
					<div class="setting-item">
						<label for="showLunarDay">æ—¥</label> <label class="switch"><input id="showLunarDay" type="checkbox"> <span class="slider"></span></label> <input id="lunarDayColor" type="color" value="#00FF00">
					</div>
					<div class="setting-item">
						<label for="showLunarShiChen">æ™‚</label> <label class="switch"><input id="showLunarShiChen" type="checkbox"> <span class="slider"></span></label> <input id="lunarShiChenColor" type="color" value="#00FF00">
					</div>
					<div class="setting-item">
						<label for="showJieqi">ç¯€æ°£</label> <label class="switch"><input id="showJieqi" type="checkbox"> <span class="slider"></span></label> <input id="jieqiColor" type="color" value="#00FF00">
					</div>
					<div class="setting-item">
						<label for="showHolidays">ç¯€æ—¥</label> <label class="switch"><input id="showHolidays" type="checkbox"> <span class="slider"></span></label> <input id="holidayColor" type="color" value="#0000FF">
					</div>
				</div>
			</div>
			<div class="setting-item">
				<label for="backgroundColor">èƒŒæ™¯ç‰¹æ•ˆèˆ‡é¡è‰²</label> <label class="switch" title="åˆ‡æ›èƒŒæ™¯æƒæç·šç‰¹æ•ˆ"><input id="enableBackgroundScanline" type="checkbox"> <span class="slider"></span></label> <input id="backgroundColor" type="color" value="#000000">
			</div>
			<div class="setting-item">
				<label for="enableTextScanline">æ–‡å­—æƒæç·šç‰¹æ•ˆ</label> <label class="switch"><input id="enableTextScanline" type="checkbox"> <span class="slider"></span></label>
			</div>
			<div class="setting-item">
				<label for="enableMovement">éš¨æ©Ÿç§»å‹•ç‰¹æ•ˆ</label> <label class="switch"><input id="enableMovement" type="checkbox"> <span class="slider"></span></label>
			</div>
			<div class="button-group">
				<button class="action-button" id="restoreDefaultsBtn">æ¢å¾©é è¨­</button> <button class="action-button" id="randomColorsBtn">éš¨æ©Ÿé¡è‰²</button> <button class="action-button" id="doneBtn">å®Œæˆ</button>
			</div>
		</div>
	</div><!-- ç¯€æ°£/ç¯€æ—¥ Modal -->
	<div class="modal" id="jieqiDetailsModal">
		<div class="modal-content jieqi-content">
			<h2>ç¯€æ°£èˆ‡ç¯€æ—¥è³‡è¨Š</h2>
			<div id="jieqiDetailsContent" style="text-align: left;"></div><button class="action-button" id="closeJieqiDetailsBtn">é—œé–‰</button>
		</div>
	</div><!-- å®œå¿Œ Modal -->
	<div class="modal" id="yijiDetailsModal">
		<div class="modal-content yiji-content">
			<h2>å®œå¿Œè³‡è¨Š</h2>
			<div id="yijiDetailsContent" style="text-align: left;"></div><button class="action-button" id="closeYijiDetailsBtn">é—œé–‰</button>
		</div>
	</div><!-- æœˆæ›† Modal -->
	<div class="modal" id="calendarModal">
		<div class="calendar-content">
			<div class="calendar-header">
				<button id="prevMonthBtn">&lt;</button>
				<h2 id="calendarMonthYear"></h2><button id="nextMonthBtn">&gt;</button>
			</div>
			<div class="calendar-weekdays" id="calendarWeekdays"></div>
			<div class="calendar-grid" id="calendarGrid"></div><button class="action-button" id="closeCalendarBtn">é—œé–‰</button>
		</div>
	</div><!-- å‘¨æ›† Modal -->
	<div class="modal" id="weeklyCalendarModal">
		<div class="weekly-calendar-content">
			<div class="calendar-header">
				<button id="prevWeekBtn">&lt;</button>
				<h2 id="weeklyCalendarTitle"></h2><button id="nextWeekBtn">&gt;</button>
			</div>
			<div class="weekly-calendar-grid" id="weeklyCalendarGrid"></div><button class="action-button" id="closeWeeklyCalendarBtn">é—œé–‰</button>
		</div>
	</div><!-- å¹´æ›† Modal -->
	<div class="modal" id="yearlyCalendarModal">
		<div class="yearly-calendar-content">
			<div class="calendar-header">
				<button id="prevYearBtn">&lt;</button>
				<h2 id="yearlyCalendarTitle"></h2><button id="nextYearBtn">&gt;</button>
			</div>
			<div class="yearly-calendar-grid" id="yearlyCalendarGrid"></div><button class="action-button" id="closeYearlyCalendarBtn">é—œé–‰</button>
		</div>
	</div>
	<script>
	       // å…¨åŸŸè®Šæ•¸
	       let lastSecondTensDigit = -1; // ç”¨æ–¼è¿½è¹¤ç§’æ•¸çš„åä½æ•¸è®ŠåŒ–ï¼Œè§¸ç™¼éš¨æ©Ÿç§»å‹•å’Œæƒæç·šæ¨¡å¼åˆ‡æ›
	       let scanlinePatternIsA = true; // ç”¨æ–¼è¿½è¹¤ç•¶å‰æƒæç·šæ¨¡å¼æ˜¯Aé‚„æ˜¯B
	       let lastMarqueeContent = ''; // ç”¨æ–¼åˆ¤æ–·è·‘é¦¬ç‡ˆå…§å®¹æ˜¯å¦éœ€è¦æ›´æ–°ï¼Œé¿å…ä¸å¿…è¦çš„DOMæ“ä½œ
	       let calendarDate = new Date(); // æœˆæ›†é¡¯ç¤ºçš„ç•¶å‰æ—¥æœŸ
	       let weeklyCalendarDate = new Date(); // å‘¨æ›†é¡¯ç¤ºçš„ç•¶å‰æ—¥æœŸ
	       let yearlyCalendarDate = new Date(); // å¹´æ›†é¡¯ç¤ºçš„ç•¶å‰æ—¥æœŸ

	       // é è¨­é¡¯ç¤ºè¨­å®šç‰©ä»¶
	       const defaultDisplaySettings = {
	           showAmPm: true, // é¡¯ç¤ºä¸Šåˆ/ä¸‹åˆ
	           showGregorianYear: true, // é¡¯ç¤ºå…¬æ›†å¹´
	           showGregorianMonth: true, // é¡¯ç¤ºå…¬æ›†æœˆ
	           showGregorianDay: true, // é¡¯ç¤ºå…¬æ›†æ—¥
	           showGregorianWeekday: true, // é¡¯ç¤ºå…¬æ›†æ˜ŸæœŸ
	           showMinguoYear: true, // é¡¯ç¤ºæ°‘åœ‹å¹´
	           showLunarMonth: true, // é¡¯ç¤ºè¾²æ›†æœˆ
	           showLunarDay: true, // é¡¯ç¤ºè¾²æ›†æ—¥
	           showLunarShiChen: true, // é¡¯ç¤ºè¾²æ›†æ™‚è¾°
	           showJieqi: true, // é¡¯ç¤ºç¯€æ°£
	           showHolidays: true, // é¡¯ç¤ºç¯€æ—¥
	           textColor: '#00FF00', // æ™‚é–“æ–‡å­—é¡è‰²
	           backgroundColor: '#000000', // èƒŒæ™¯é¡è‰²
	           gregorianYearColor: '#00FF00', // å…¬æ›†å¹´æ–‡å­—é¡è‰²
	           gregorianMonthColor: '#00FF00', // å…¬æ›†æœˆæ–‡å­—é¡è‰²
	           gregorianDayColor: '#00FF00', // å…¬æ›†æ—¥æ–‡å­—é¡è‰²
	           gregorianWeekdayColor: '#00FF00', // å…¬æ›†æ˜ŸæœŸæ–‡å­—é¡è‰²
	           minguoYearColor: '#00FF00', // æ°‘åœ‹å¹´æ–‡å­—é¡è‰²
	           lunarMonthColor: '#00FF00', // è¾²æ›†æœˆæ–‡å­—é¡è‰²
	           lunarDayColor: '#00FF00', // è¾²æ›†æ—¥æ–‡å­—é¡è‰²
	           lunarShiChenColor: '#00FF00', // è¾²æ›†æ™‚è¾°æ–‡å­—é¡è‰²
	           jieqiColor: '#00FF00', // ç¯€æ°£æ–‡å­—é¡è‰²
	           holidayColor: '#00FFFF', // ç¯€æ—¥æ–‡å­—é¡è‰²
	           enableTextScanline: false, // å•Ÿç”¨æ–‡å­—æƒæç·šç‰¹æ•ˆ
	           enableBackgroundScanline: false, // å•Ÿç”¨èƒŒæ™¯æƒæç·šç‰¹æ•ˆ
	           enableMovement: true // å•Ÿç”¨éš¨æ©Ÿç§»å‹•ç‰¹æ•ˆ
	       };

	       let displaySettings = { ...defaultDisplaySettings }; // ç•¶å‰é¡¯ç¤ºè¨­å®šï¼Œåˆå§‹åŒ–ç‚ºé è¨­å€¼

	       // å°‡ç•¶å‰è¨­å®šå„²å­˜åˆ° localStorage
	       function saveSettings() {
	           try {
	               localStorage.setItem('displaySettings', JSON.stringify(displaySettings)); // å°‡è¨­å®šç‰©ä»¶è½‰æ›ç‚ºJSONå­—ä¸²ä¸¦å„²å­˜
	           } catch (e) {
	               console.error("å„²å­˜è¨­å®šè‡³ localStorage å¤±æ•—:", e); // å„²å­˜å¤±æ•—æ™‚è¼¸å‡ºéŒ¯èª¤è¨Šæ¯
	           }
	       }

	       // å¾ localStorage è¼‰å…¥è¨­å®š
	       function loadSettings() {
	           try {
	               const settingsJson = localStorage.getItem('displaySettings'); // å¾ localStorage ç²å–è¨­å®šå­—ä¸²
	               if (settingsJson) {
	                   const loadedSettings = JSON.parse(settingsJson); // å°‡JSONå­—ä¸²è§£æç‚ºç‰©ä»¶
	                   displaySettings = Object.assign({ ...defaultDisplaySettings }, loadedSettings); // åˆä½µè¼‰å…¥çš„è¨­å®šèˆ‡é è¨­è¨­å®šï¼Œç¢ºä¿æ‰€æœ‰å±¬æ€§éƒ½å­˜åœ¨
	               }
	           } catch (e) {
	               console.error("å¾ localStorage è§£æè¨­å®šå¤±æ•—:", e); // è§£æå¤±æ•—æ™‚è¼¸å‡ºéŒ¯èª¤è¨Šæ¯
	               displaySettings = { ...defaultDisplaySettings }; // è¼‰å…¥å¤±æ•—æ™‚ä½¿ç”¨é è¨­è¨­å®š
	           }
	       }

	       // æ›´æ–°è¨­å®šå½ˆå‡ºè¦–çª—çš„UIå…ƒç´ ç‹€æ…‹
	       function updateSettingsModalUI() {
	           document.getElementById('showAmPm').checked = displaySettings.showAmPm; // æ›´æ–°ä¸Šåˆ/ä¸‹åˆé–‹é—œç‹€æ…‹
	           document.getElementById('showGregorianYear').checked = displaySettings.showGregorianYear; // æ›´æ–°å…¬æ›†å¹´é–‹é—œç‹€æ…‹
	           document.getElementById('showGregorianMonth').checked = displaySettings.showGregorianMonth; // æ›´æ–°å…¬æ›†æœˆé–‹é—œç‹€æ…‹
	           document.getElementById('showGregorianDay').checked = displaySettings.showGregorianDay; // æ›´æ–°å…¬æ›†æ—¥é–‹é—œç‹€æ…‹
	           document.getElementById('showGregorianWeekday').checked = displaySettings.showGregorianWeekday; // æ›´æ–°å…¬æ›†æ˜ŸæœŸé–‹é—œç‹€æ…‹
	           document.getElementById('showMinguoYear').checked = displaySettings.showMinguoYear; // æ›´æ–°æ°‘åœ‹å¹´é–‹é—œç‹€æ…‹
	           document.getElementById('showLunarMonth').checked = displaySettings.showLunarMonth; // æ›´æ–°è¾²æ›†æœˆé–‹é—œç‹€æ…‹
	           document.getElementById('showLunarDay').checked = displaySettings.showLunarDay; // æ›´æ–°è¾²æ›†æ—¥é–‹é—œç‹€æ…‹
	           document.getElementById('showLunarShiChen').checked = displaySettings.showLunarShiChen; // æ›´æ–°è¾²æ›†æ™‚è¾°é–‹é—œç‹€æ…‹
	           document.getElementById('showJieqi').checked = displaySettings.showJieqi; // æ›´æ–°ç¯€æ°£é–‹é—œç‹€æ…‹
	           document.getElementById('showHolidays').checked = displaySettings.showHolidays; // æ›´æ–°ç¯€æ—¥é–‹é—œç‹€æ…‹
	           document.getElementById('textColor').value = displaySettings.textColor; // æ›´æ–°æ™‚é–“æ–‡å­—é¡è‰²
	           document.getElementById('backgroundColor').value = displaySettings.backgroundColor; // æ›´æ–°èƒŒæ™¯é¡è‰²
	           document.getElementById('gregorianYearColor').value = displaySettings.gregorianYearColor; // æ›´æ–°å…¬æ›†å¹´é¡è‰²
	           document.getElementById('gregorianMonthColor').value = displaySettings.gregorianMonthColor; // æ›´æ–°å…¬æ›†æœˆé¡è‰²
	           document.getElementById('gregorianDayColor').value = displaySettings.gregorianDayColor; // æ›´æ–°å…¬æ›†æ—¥é¡è‰²
	           document.getElementById('gregorianWeekdayColor').value = displaySettings.gregorianWeekdayColor; // æ›´æ–°å…¬æ›†æ˜ŸæœŸé¡è‰²
	           document.getElementById('minguoYearColor').value = displaySettings.minguoYearColor; // æ›´æ–°æ°‘åœ‹å¹´é¡è‰²
	           document.getElementById('lunarMonthColor').value = displaySettings.lunarMonthColor; // æ›´æ–°è¾²æ›†æœˆé¡è‰²
	           document.getElementById('lunarDayColor').value = displaySettings.lunarDayColor; // æ›´æ–°è¾²æ›†æ—¥é¡è‰²
	           document.getElementById('lunarShiChenColor').value = displaySettings.lunarShiChenColor; // æ›´æ–°è¾²æ›†æ™‚è¾°é¡è‰²
	           document.getElementById('jieqiColor').value = displaySettings.jieqiColor; // æ›´æ–°ç¯€æ°£é¡è‰²
	           document.getElementById('holidayColor').value = displaySettings.holidayColor; // æ›´æ–°ç¯€æ—¥é¡è‰²
	           document.getElementById('enableTextScanline').checked = displaySettings.enableTextScanline; // æ›´æ–°æ–‡å­—æƒæç·šé–‹é—œç‹€æ…‹
	           document.getElementById('enableBackgroundScanline').checked = displaySettings.enableBackgroundScanline; // æ›´æ–°èƒŒæ™¯æƒæç·šé–‹é—œç‹€æ…‹
	           document.getElementById('enableMovement').checked = displaySettings.enableMovement; // æ›´æ–°éš¨æ©Ÿç§»å‹•é–‹é—œç‹€æ…‹
	       }

	       // æ ¹æ“šç”Ÿè‚–åç¨±è¿”å›å°æ‡‰çš„Emoji
	       function getShengXiaoEmoji(shengXiaoName) {
	           const emojiMap = { 'é¼ ': 'ğŸ­', 'ç‰›': 'ğŸ®', 'è™': 'ğŸ…', 'å…”': 'ğŸ°', 'é¾': 'ğŸ‰', 'è›‡': 'ğŸ', 'é¦¬': 'ğŸ', 'ç¾Š': 'ğŸ‘', 'çŒ´': 'ğŸ’', 'é›': 'ğŸ”', 'ç‹—': 'ğŸ¶', 'è±¬': 'ğŸ–' }; // ç”Ÿè‚–åç¨±èˆ‡Emojiçš„æ˜ å°„
	           return emojiMap[shengXiaoName] || shengXiaoName; // è¿”å›å°æ‡‰çš„Emojiï¼Œå¦‚æœæ²’æœ‰å‰‡è¿”å›åŸåç¨±
	       }

	       // æ ¹æ“šç¯€æ°£åç¨±è¿”å›è©³ç´°æè¿°
	       function getJieqiDescription(jieqiName) {
	           const descriptions = { 'ç«‹æ˜¥': 'æ˜¥å­£é–‹å§‹ï¼Œè¬ç‰©å¾©ç”¦ï¼Œæ°£æº«å›å‡ã€‚', 'é›¨æ°´': 'é™é›¨å¢å¤šï¼Œè‰æœ¨èŒå‹•ï¼Œæ˜¥è€•é–‹å§‹ã€‚', 'é©šèŸ„': 'æ˜¥é›·éŸ¿å‹•ï¼Œé©šé†’å†¬çœ å‹•ç‰©ï¼Œæ°£æº«æ¼¸å‡ã€‚', 'æ˜¥åˆ†': 'æ™å¤œç­‰é•·ï¼Œæ˜¥æ„ç›ç„¶ï¼Œå—åŒ—åŠçƒæ°£æº«è¶¨æ–¼å¹³è¡¡ã€‚', 'æ¸…æ˜': 'æ°£å€™æ¸…çˆ½æ˜æœ—ï¼Œè¬ç‰©æ½”æ·¨ï¼Œæ˜¯æƒå¢“ç¥­ç¥–çš„æ—¥å­ã€‚', 'ç©€é›¨': 'é›¨æ°´æ»‹æ½¤ï¼Œç©€ç‰©ç”Ÿé•·ï¼Œæ˜¯æ’­ç¨®ç§»è‹—çš„å¥½æ™‚ç¯€ã€‚', 'ç«‹å¤': 'å¤å­£é–‹å§‹ï¼Œè¬ç‰©ç¹èŒ‚ï¼Œæ°£æº«æ˜é¡¯å‡é«˜ã€‚', 'å°æ»¿': 'éº¥é¡ç­‰å¤ç†Ÿä½œç‰©ç±½ç²’é–‹å§‹é£½æ»¿ï¼Œä½†å°šæœªæˆç†Ÿã€‚', 'èŠ’ç¨®': 'æœ‰èŠ’ä½œç‰©ï¼ˆå¦‚éº¥ã€ç¨»ï¼‰æˆç†Ÿï¼Œå¯ä»¥æ”¶ç©«å’Œæ’­ç¨®ã€‚', 'å¤è‡³': 'åŒ—åŠçƒç™½æ™æœ€é•·ï¼Œé™½æ°£æœ€ç››ï¼Œæ˜¯ç››å¤çš„é–‹å§‹ã€‚', 'å°æš‘': 'å¤©æ°£é–‹å§‹ç‚ç†±ï¼Œä½†é‚„æœªåˆ°æœ€ç†±çš„æ™‚å€™ã€‚', 'å¤§æš‘': 'ä¸€å¹´ä¸­æœ€ç‚ç†±çš„æ™‚æœŸï¼Œæ¿•ç†±äº¤è’¸ã€‚', 'ç«‹ç§‹': 'ç§‹å­£é–‹å§‹ï¼Œæ°£æº«é€æ¼¸ä¸‹é™ï¼Œä½†ä»æœ‰æš‘ç†±ã€‚', 'è™•æš‘': 'æš‘æ°£æ¼¸é€€ï¼Œå¤©æ°£è½‰æ¶¼ï¼Œä½†ä»æœ‰ã€Œç§‹è€è™ã€ã€‚', 'ç™½éœ²': 'å¤©æ°£è½‰æ¶¼ï¼Œæ°´æ°£å‡çµæˆéœ²ç ï¼Œå¤©æ°£æ¼¸å¯’ã€‚', 'ç§‹åˆ†': 'æ™å¤œç­‰é•·ï¼Œç§‹é«˜æ°£çˆ½ï¼Œæ˜¯æ”¶ç©«çš„å­£ç¯€ã€‚', 'å¯’éœ²': 'æ°£æº«æ›´ä½ï¼Œéœ²æ°´æ›´å¤šï¼Œå¤©æ°£è½‰å†·ã€‚', 'éœœé™': 'å¤©æ°£æ¼¸å†·ï¼Œéœ²æ°´å‡çµæˆéœœï¼Œæ˜¯ç§‹å­£çš„æœ€å¾Œä¸€å€‹ç¯€æ°£ã€‚', 'ç«‹å†¬': 'å†¬å­£é–‹å§‹ï¼Œè¬ç‰©æ”¶è—ï¼Œæ°£æº«é¡¯è‘—ä¸‹é™ã€‚', 'å°é›ª': 'é–‹å§‹é™é›ªï¼Œä½†é›ªé‡ä¸å¤§ï¼Œæ°£æº«æŒçºŒèµ°ä½ã€‚', 'å¤§é›ª': 'é™é›ªé‡å¢å¤šï¼Œå¤©æ°£æ›´å†·ï¼Œå†°å‡ç¾è±¡å¸¸è¦‹ã€‚', 'å†¬è‡³': 'åŒ—åŠçƒç™½æ™æœ€çŸ­ï¼Œå¤œæ™šæœ€é•·ï¼Œæ˜¯æ•¸ä¹å¯’å¤©çš„é–‹å§‹ã€‚', 'å°å¯’': 'å¤©æ°£å¯’å†·ï¼Œå°šæœªé”åˆ°æœ€å†·ã€‚', 'å¤§å¯’': 'ä¸€å¹´ä¸­æœ€å¯’å†·çš„æ™‚æœŸï¼Œåš´å¯’å†°å‡ã€‚' }; // ç¯€æ°£åç¨±èˆ‡æè¿°çš„æ˜ å°„
	           return descriptions[jieqiName] || 'æ­¤ç¯€æ°£ç„¡è©³ç´°èªªæ˜ã€‚'; // è¿”å›å°æ‡‰çš„æè¿°ï¼Œå¦‚æœæ²’æœ‰å‰‡è¿”å›é è¨­è¨Šæ¯
	       }

	       // ç²å–æŒ‡å®šå¹´ä»½çš„ç¯€æ—¥åˆ—è¡¨
	       function getHolidays(year) {
	           const holidays = [
	               { name: 'å…ƒæ—¦', date: new Date(year, 0, 1) }, { name: 'å’Œå¹³ç´€å¿µæ—¥', date: new Date(year, 1, 28) }, { name: 'å…’ç«¥ç¯€', date: new Date(year, 3, 4) }, { name: 'æ¸…æ˜ç¯€', date: new Date(year, 3, 4) }, { name: 'å‹å‹•ç¯€', date: new Date(year, 4, 1) }, { name: 'åœ‹æ…¶æ—¥', date: new Date(year, 9, 10) }, { name: 'è–èª•ç¯€', date: new Date(year, 11, 25) }
	           ]; // å›ºå®šæ—¥æœŸçš„å…¬æ›†ç¯€æ—¥

	           // è¾²æ›†ç¯€æ—¥éœ€è¦é€šé Lunar.js è¨ˆç®—å…¬æ›†æ—¥æœŸ
	           const lunarNewYear = Lunar.fromYmd(year, 1, 1).getSolar(); // è¾²æ›†æ–°å¹´
	           holidays.push({ name: 'è¾²æ›†æ–°å¹´', date: new Date(lunarNewYear.getYear(), lunarNewYear.getMonth() - 1, lunarNewYear.getDay()) });
	           const dragonBoatFestival = Lunar.fromYmd(year, 5, 5).getSolar(); // ç«¯åˆç¯€
	           holidays.push({ name: 'ç«¯åˆç¯€', date: new Date(dragonBoatFestival.getYear(), dragonBoatFestival.getMonth() - 1, dragonBoatFestival.getDay()) });
	           const ghostFestival = Lunar.fromYmd(year, 7, 15).getSolar(); // ä¸­å…ƒç¯€
	           holidays.push({ name: 'ä¸­å…ƒç¯€', date: new Date(ghostFestival.getYear(), ghostFestival.getMonth() - 1, ghostFestival.getDay()) });
	           const midAutumnFestival = Lunar.fromYmd(year, 8, 15).getSolar(); // ä¸­ç§‹ç¯€
	           holidays.push({ name: 'ä¸­ç§‹ç¯€', date: new Date(midAutumnFestival.getYear(), midAutumnFestival.getMonth() - 1, midAutumnFestival.getDay()) });
	           const doubleNinthFestival = Lunar.fromYmd(year, 9, 9).getSolar(); // é‡é™½ç¯€
	           holidays.push({ name: 'é‡é™½ç¯€', date: new Date(doubleNinthFestival.getYear(), doubleNinthFestival.getMonth() - 1, doubleNinthFestival.getDay()) });
	           
	           const nextLunarNewYearSolar = Lunar.fromYmd(year + 1, 1, 1).getSolar(); // ä¸‹ä¸€å¹´è¾²æ›†æ–°å¹´çš„å…¬æ›†æ—¥æœŸ
	           const chineseNewYearsEveDate = new Date(nextLunarNewYearSolar.getYear(), nextLunarNewYearSolar.getMonth() - 1, nextLunarNewYearSolar.getDay() - 1); // é™¤å¤•ç‚ºè¾²æ›†æ–°å¹´å‰ä¸€å¤©
	           holidays.push({ name: 'é™¤å¤•', date: chineseNewYearsEveDate });

	           holidays.sort((a, b) => a.date.getTime() - b.date.getTime()); // æ ¹æ“šæ—¥æœŸæ’åºç¯€æ—¥
	           return holidays; // è¿”å›æ’åºå¾Œçš„ç¯€æ—¥åˆ—è¡¨
	       }

	       // æ ¹æ“šå°æ™‚æ•¸ç²å–å°æ‡‰çš„æ™‚è¾°
	       function getShiChen(h) {
	           if (h >= 23 || h < 1) return 'å­'; // 23é»è‡³1é»ç‚ºå­æ™‚
	           if (h >= 1 && h < 3) return 'ä¸‘'; // 1é»è‡³3é»ç‚ºä¸‘æ™‚
	           if (h >= 3 && h < 5) return 'å¯…'; // 3é»è‡³5é»ç‚ºå¯…æ™‚
	           if (h >= 5 && h < 7) return 'å¯'; // 5é»è‡³7é»ç‚ºå¯æ™‚
	           if (h >= 7 && h < 9) return 'è¾°'; // 7é»è‡³9é»ç‚ºè¾°æ™‚
	           if (h >= 9 && h < 11) return 'å·³'; // 9é»è‡³11é»ç‚ºå·³æ™‚
	           if (h >= 11 && h < 13) return 'åˆ'; // 11é»è‡³13é»ç‚ºåˆæ™‚
	           if (h >= 13 && h < 15) return 'æœª'; // 13é»è‡³15é»ç‚ºæœªæ™‚
	           if (h >= 15 && h < 17) return 'ç”³'; // 15é»è‡³17é»ç‚ºç”³æ™‚
	           if (h >= 17 && h < 19) return 'é…‰'; // 17é»è‡³19é»ç‚ºé…‰æ™‚
	           if (h >= 19 && h < 21) return 'æˆŒ'; // 19é»è‡³21é»ç‚ºæˆŒæ™‚
	           if (h >= 21 && h < 23) return 'äº¥'; // 21é»è‡³23é»ç‚ºäº¥æ™‚
	           return ''; // ç„¡æ•ˆå°æ™‚è¿”å›ç©ºå­—ä¸²
	       }

	       // æ ¹æ“šå°æ™‚æ•¸ç²å–è©³ç´°æ™‚é–“æ®µæè¿°
	       function getDetailedTimePeriod(hour) {
	           if (hour >= 0 && hour < 5) return 'å‡Œæ™¨'; // 0é»è‡³5é»ç‚ºå‡Œæ™¨
	           if (hour >= 5 && hour < 9) return 'æ¸…æ™¨'; // 5é»è‡³9é»ç‚ºæ¸…æ™¨
	           if (hour >= 9 && hour < 12) return 'ä¸Šåˆ'; // 9é»è‡³12é»ç‚ºä¸Šåˆ
	           if (hour === 12) return 'ä¸­åˆ'; // 12é»ç‚ºä¸­åˆ
	           if (hour > 12 && hour < 17) return 'ä¸‹åˆ'; // 13é»è‡³17é»ç‚ºä¸‹åˆ
	           if (hour >= 17 && hour < 19) return 'å‚æ™š'; // 17é»è‡³19é»ç‚ºå‚æ™š
	           if (hour >= 19 && hour < 23) return 'å¤œæ™š'; // 19é»è‡³23é»ç‚ºå¤œæ™š
	           if (hour === 23) return 'æ·±å¤œ'; // 23é»ç‚ºæ·±å¤œ
	           return ''; // ç„¡æ•ˆå°æ™‚è¿”å›ç©ºå­—ä¸²
	       }

	       // æ›´æ–°ç¯€æ°£/ç¯€æ—¥è·‘é¦¬ç‡ˆé¡¯ç¤º
	       function updateMarquee(combinedJieqiHolidayText) {
	           const marqueeContainer = document.getElementById('jieqiHolidayMarqueeContainer'); // è·‘é¦¬ç‡ˆå®¹å™¨å…ƒç´ 
	           const marqueeInner = document.getElementById('jieqiHolidayMarqueeInner'); // è·‘é¦¬ç‡ˆå…§éƒ¨å…ƒç´ 
	           if (!marqueeContainer || !marqueeInner) return; // å¦‚æœå…ƒç´ ä¸å­˜åœ¨å‰‡é€€å‡º

	           const contentSpan = marqueeInner.querySelector('.jieqi-holiday-marquee-content'); // è·‘é¦¬ç‡ˆå…§å®¹å…ƒç´ 
	           const duplicateSpan = marqueeInner.querySelector('.jieqi-holiday-marquee-content-duplicate'); // è·‘é¦¬ç‡ˆé‡è¤‡å…§å®¹å…ƒç´ 
	           if (!contentSpan || !duplicateSpan) return; // å¦‚æœå…ƒç´ ä¸å­˜åœ¨å‰‡é€€å‡º

	           contentSpan.innerHTML = combinedJieqiHolidayText; // è¨­å®šä¸»è¦å…§å®¹

	           requestAnimationFrame(() => { // åœ¨ä¸‹ä¸€å¹€å‹•ç•«ä¸­åŸ·è¡Œï¼Œç¢ºä¿DOMå·²æ›´æ–°
	               const contentWidth = contentSpan.scrollWidth; // å…§å®¹çš„å¯¦éš›å¯¬åº¦
	               const containerWidth = marqueeContainer.offsetWidth; // å®¹å™¨çš„å¯¬åº¦

	               if (contentWidth > containerWidth) { // å¦‚æœå…§å®¹å¯¬åº¦å¤§æ–¼å®¹å™¨å¯¬åº¦ï¼Œå‰‡éœ€è¦æ»¾å‹•
	                   duplicateSpan.innerHTML = combinedJieqiHolidayText; // è¤‡è£½å…§å®¹ä»¥å¯¦ç¾ç„¡ç¸«æ»¾å‹•
	                   marqueeContainer.classList.add('scrolling'); // æ·»åŠ scrollingé¡ï¼Œå•Ÿç”¨å‹•ç•«
	                   const speed = 50; // æ»¾å‹•é€Ÿåº¦ (åƒç´ /ç§’)
	                   const duration = contentWidth / speed; // è¨ˆç®—å‹•ç•«æŒçºŒæ™‚é–“
	                   marqueeInner.style.animationDuration = `${duration}s`; // è¨­å®šå‹•ç•«æŒçºŒæ™‚é–“
	                   marqueeInner.style.animationPlayState = 'running'; // é‹è¡Œå‹•ç•«
	               } else {
	                   duplicateSpan.innerHTML = ''; // å…§å®¹ä¸éœ€è¦æ»¾å‹•æ™‚æ¸…ç©ºé‡è¤‡å…§å®¹
	                   marqueeContainer.classList.remove('scrolling'); // ç§»é™¤scrollingé¡ï¼Œåœæ­¢å‹•ç•«
	                   marqueeInner.style.animationPlayState = 'paused'; // æš«åœå‹•ç•«
	               }
	           });
	       }

	       // æ›´æ–°ä¸»ç•«é¢æ—¥æœŸæ™‚é–“é¡¯ç¤ºï¼Œä¸¦è™•ç†æƒæç·šå’Œéš¨æ©Ÿç§»å‹•é‚è¼¯
	       function updateDateTime() {
	           const now = new Date(); // ç²å–ç•¶å‰æ—¥æœŸæ™‚é–“
	           const currentSeconds = now.getSeconds(); // ç²å–ç•¶å‰ç§’æ•¸
	           const backgroundOverlay = document.getElementById('background-scanline-overlay'); // èƒŒæ™¯æƒæç·šè¦†è“‹å±¤
	           const textOverlay = document.getElementById('text-scanline-overlay'); // æ–‡å­—æƒæç·šè¦†è“‹å±¤
	           
	           const secondTensDigit = Math.floor(currentSeconds / 10); // è¨ˆç®—ç§’æ•¸çš„åä½æ•¸
	           if (secondTensDigit !== lastSecondTensDigit) { // å¦‚æœç§’æ•¸çš„åä½æ•¸ç™¼ç”Ÿè®ŠåŒ–
	               if(displaySettings.enableMovement) { // å¦‚æœå•Ÿç”¨éš¨æ©Ÿç§»å‹•ç‰¹æ•ˆ
	                   moveRandomly(); // åŸ·è¡Œéš¨æ©Ÿç§»å‹•
	               }
	               
	               scanlinePatternIsA = !scanlinePatternIsA; // æ¯10ç§’ç¿»è½‰ä¸€æ¬¡æƒæç·šæ¨¡å¼
	               
	               lastSecondTensDigit = secondTensDigit; // æ›´æ–°ä¸Šæ¬¡çš„åä½æ•¸
	           }

	           // æ ¹æ“šè¨­å®šå’Œç•¶å‰æ¨¡å¼æ›´æ–°æƒæç·š
	           // èƒŒæ™¯æƒæç·š
	           backgroundOverlay.classList.toggle('active', displaySettings.enableBackgroundScanline); // æ ¹æ“šè¨­å®šåˆ‡æ›activeé¡
	           if (displaySettings.enableBackgroundScanline) { // å¦‚æœå•Ÿç”¨èƒŒæ™¯æƒæç·š
	               backgroundOverlay.classList.toggle('pattern-a', scanlinePatternIsA); // æ ¹æ“šæ¨¡å¼åˆ‡æ›pattern-aé¡
	               backgroundOverlay.classList.toggle('pattern-b', !scanlinePatternIsA); // æ ¹æ“šæ¨¡å¼åˆ‡æ›pattern-bé¡
	           }

	           // æ–‡å­—æƒæç·š (ä½¿ç”¨èˆ‡èƒŒæ™¯ç›¸åçš„æ¨¡å¼ä»¥ç”¢ç”Ÿäº¤éŒ¯æ•ˆæœ)
	           textOverlay.classList.toggle('active', displaySettings.enableTextScanline); // æ ¹æ“šè¨­å®šåˆ‡æ›activeé¡
	           if (displaySettings.enableTextScanline) { // å¦‚æœå•Ÿç”¨æ–‡å­—æƒæç·š
	               textOverlay.classList.toggle('pattern-a', !scanlinePatternIsA); // æ ¹æ“šæ¨¡å¼åˆ‡æ›pattern-aé¡ (èˆ‡èƒŒæ™¯ç›¸å)
	               textOverlay.classList.toggle('pattern-b', scanlinePatternIsA); // æ ¹æ“šæ¨¡å¼åˆ‡æ›pattern-bé¡ (èˆ‡èƒŒæ™¯ç›¸å)
	           }

	           document.documentElement.style.setProperty('--page-background-color', displaySettings.backgroundColor); // æ›´æ–°èƒŒæ™¯è‰²CSSè®Šæ•¸

	           const timeOptions = { hour: 'numeric', minute: '2-digit', second: '2-digit', hour12: displaySettings.showAmPm }; // æ™‚é–“æ ¼å¼é¸é …
	           const formatter = new Intl.DateTimeFormat('zh-Hant', timeOptions); // åœ‹éš›åŒ–æ—¥æœŸæ™‚é–“æ ¼å¼åŒ–å™¨
	           const parts = formatter.formatToParts(now); // æ ¼å¼åŒ–æ™‚é–“ä¸¦ç²å–å„éƒ¨åˆ†
	           const hourPart = parts.find(p => p.type === 'hour')?.value.padStart(2, '0') || '00'; // ç²å–å°æ™‚éƒ¨åˆ†ï¼Œä¸è¶³å…©ä½è£œé›¶
	           const minutePart = parts.find(p => p.type === 'minute')?.value || '00'; // ç²å–åˆ†é˜éƒ¨åˆ†
	           const secondPart = parts.find(p => p.type === 'second')?.value || '00'; // ç²å–ç§’æ•¸éƒ¨åˆ†
	           const hoursMinutes = `${hourPart}:${minutePart}`; // çµ„åˆå°æ™‚å’Œåˆ†é˜
	           const seconds = secondPart; // ç§’æ•¸
	           const amPmText = displaySettings.showAmPm ? getDetailedTimePeriod(now.getHours()) : ''; // ç²å–ä¸Šåˆ/ä¸‹åˆæ–‡å­—

	           let gregorianParts = []; // ç”¨æ–¼å„²å­˜å…¬æ›†æ—¥æœŸå„éƒ¨åˆ†çš„HTMLå­—ä¸²é™£åˆ—
	           if (displaySettings.showGregorianYear || displaySettings.showGregorianMonth || displaySettings.showGregorianDay || displaySettings.showGregorianWeekday) {
	               const year = now.getFullYear(); // ç•¶å‰å¹´ä»½
	               const month = (now.getMonth() + 1).toString().padStart(2, '0'); // ç•¶å‰æœˆä»½ (åŠ 1ä¸¦è£œé›¶)
	               const day = now.getDate().toString().padStart(2, '0'); // ç•¶å‰æ—¥æœŸ (è£œé›¶)
	               const weekday = ['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­'][now.getDay()]; // ç•¶å‰æ˜ŸæœŸ
	               if (displaySettings.showGregorianYear) gregorianParts.push(`<span class="gregorian-year-target" style="color: ${displaySettings.gregorianYearColor}; cursor: pointer;">${year}å¹´<\/span>`); // å¦‚æœé¡¯ç¤ºå…¬æ›†å¹´ï¼Œå‰‡æ·»åŠ å¹´ä»½HTML
	               if (displaySettings.showGregorianMonth) gregorianParts.push(`<span style="color: ${displaySettings.gregorianMonthColor};">${month}æœˆ<\/span>`); // å¦‚æœé¡¯ç¤ºå…¬æ›†æœˆï¼Œå‰‡æ·»åŠ æœˆä»½HTML
	               if (displaySettings.showGregorianDay) gregorianParts.push(`<span style="color: ${displaySettings.gregorianDayColor};">${day}æ—¥<\/span>`); // å¦‚æœé¡¯ç¤ºå…¬æ›†æ—¥ï¼Œå‰‡æ·»åŠ æ—¥æœŸHTML
	               if (displaySettings.showGregorianWeekday) gregorianParts.push(`<span class="weekday-target" style="color: ${displaySettings.gregorianWeekdayColor}; cursor: pointer;">å‘¨${weekday}<\/span>`); // å¦‚æœé¡¯ç¤ºå…¬æ›†æ˜ŸæœŸï¼Œå‰‡æ·»åŠ æ˜ŸæœŸHTML
	           }
	           
	           let lunarParts = []; // ç”¨æ–¼å„²å­˜è¾²æ›†æ—¥æœŸå„éƒ¨åˆ†çš„HTMLå­—ä¸²é™£åˆ—
	           let combinedJieqiHolidayText = ''; // ç¯€æ°£å’Œç¯€æ—¥çµ„åˆæ–‡å­—
	           let currentJieqiInfo = null; // ç•¶å‰ç¯€æ°£è³‡è¨Š
	           let nextHolidayInfo = null; // ä¸‹ä¸€å€‹ç¯€æ—¥è³‡è¨Š
	           let currentHolidayName = ''; // ç•¶å‰ç¯€æ—¥åç¨±
	           let tempJieqiName = ''; // è‡¨æ™‚ç¯€æ°£åç¨±
	           let tempDaysUntilNextJieqi = -1; // è‡¨æ™‚è·é›¢ä¸‹ä¸€å€‹ç¯€æ°£çš„å¤©æ•¸

	           if (typeof Lunar !== 'undefined') { // æª¢æŸ¥ Lunar.js æ˜¯å¦å·²è¼‰å…¥
	               const solar = Solar.fromDate(now); // æ ¹æ“šç•¶å‰æ—¥æœŸç²å–å…¬æ›†ç‰©ä»¶
	               const lunar = solar.getLunar(); // æ ¹æ“šå…¬æ›†ç‰©ä»¶ç²å–è¾²æ›†ç‰©ä»¶
	               const minguoYear = now.getFullYear() - 1911; // è¨ˆç®—æ°‘åœ‹å¹´

	               if (displaySettings.showMinguoYear || displaySettings.showLunarMonth || displaySettings.showLunarDay || displaySettings.showLunarShiChen) {
	                   if (displaySettings.showMinguoYear) lunarParts.push(`<span class="lunar-year-target" style="color: ${displaySettings.minguoYearColor}; cursor: pointer;">${minguoYear}å¹´${getShengXiaoEmoji(lunar.getYearShengXiao())}<\/span>`); // å¦‚æœé¡¯ç¤ºæ°‘åœ‹å¹´ï¼Œå‰‡æ·»åŠ æ°‘åœ‹å¹´å’Œç”Ÿè‚–Emoji
	                   if (displaySettings.showLunarMonth) lunarParts.push(`<span style="color: ${displaySettings.lunarMonthColor};">${lunar.getMonthInChinese().replace('é—°', 'é–')}æœˆ<\/span>`); // å¦‚æœé¡¯ç¤ºè¾²æ›†æœˆï¼Œå‰‡æ·»åŠ è¾²æ›†æœˆ (è™•ç†é–æœˆ)
	                   if (displaySettings.showLunarDay) lunarParts.push(`<span class="lunar-day-target lunar-date-clickable" style="color: ${displaySettings.lunarDayColor};">${lunar.getDayInChinese()}<\/span>`); // å¦‚æœé¡¯ç¤ºè¾²æ›†æ—¥ï¼Œå‰‡æ·»åŠ è¾²æ›†æ—¥
	                   if (displaySettings.showLunarShiChen) lunarParts.push(`<span class="lunar-shichen-target lunar-shichen-clickable" style="color: ${displaySettings.lunarShiChenColor};">${getShiChen(now.getHours())}æ™‚<\/span>`); // å¦‚æœé¡¯ç¤ºè¾²æ›†æ™‚è¾°ï¼Œå‰‡æ·»åŠ æ™‚è¾°
	               }

	               const jieQisForYear = lunar.getJieQiTable(); // ç²å–ç•¶å‰å¹´ä»½çš„æ‰€æœ‰ç¯€æ°£
	               const allJieqis = Object.entries(jieQisForYear).map(([name, dateStr]) => ({ name, date: new Date(dateStr) })).sort((a, b) => a.date.getTime() - b.date.getTime()); // å°‡ç¯€æ°£è½‰æ›ç‚ºç‰©ä»¶é™£åˆ—ä¸¦æŒ‰æ—¥æœŸæ’åº
	               let foundTodayJieqi = allJieqis.find(jq => jq.date.toDateString() === now.toDateString()); // æŸ¥æ‰¾ä»Šå¤©æ˜¯å¦æœ‰ç¯€æ°£
	               if (foundTodayJieqi) { // å¦‚æœä»Šå¤©æœ‰ç¯€æ°£
	                   tempJieqiName = foundTodayJieqi.name; // è¨­å®šè‡¨æ™‚ç¯€æ°£åç¨±
	                   tempDaysUntilNextJieqi = 0; // è·é›¢ç¯€æ°£å¤©æ•¸ç‚º0
	                   currentJieqiInfo = foundTodayJieqi; // è¨­å®šç•¶å‰ç¯€æ°£è³‡è¨Š
	               } else { // å¦‚æœä»Šå¤©æ²’æœ‰ç¯€æ°£
	                   let nextJieqi = allJieqis.find(jq => jq.date > now); // æŸ¥æ‰¾ä¸‹ä¸€å€‹ç¯€æ°£
	                   if (nextJieqi) { // å¦‚æœæ‰¾åˆ°ä¸‹ä¸€å€‹ç¯€æ°£
	                       const diffTime = nextJieqi.date.getTime() - now.getTime(); // è¨ˆç®—æ™‚é–“å·®
	                       tempDaysUntilNextJieqi = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); // è¨ˆç®—è·é›¢å¤©æ•¸ (å‘ä¸Šå–æ•´)
	                       tempJieqiName = nextJieqi.name; // è¨­å®šè‡¨æ™‚ç¯€æ°£åç¨±
	                       currentJieqiInfo = nextJieqi; // è¨­å®šç•¶å‰ç¯€æ°£è³‡è¨Š
	                   }
	               }
	               
	               let jieQiText = ''; // ç¯€æ°£æ–‡å­—
	               if (displaySettings.showJieqi && tempJieqiName) { // å¦‚æœé¡¯ç¤ºç¯€æ°£ä¸”æœ‰ç¯€æ°£åç¨±
	                   jieQiText = (tempDaysUntilNextJieqi === 0) ? `${tempJieqiName}` : `${tempDaysUntilNextJieqi}â¡${tempJieqiName}`; // æ ¼å¼åŒ–ç¯€æ°£æ–‡å­—
	               }

	               const holidays = getHolidays(now.getFullYear()); // ç²å–ç•¶å‰å¹´ä»½çš„ç¯€æ—¥åˆ—è¡¨
	               let foundTodayHoliday = holidays.find(h => h.date.toDateString() === now.toDateString()); // æŸ¥æ‰¾ä»Šå¤©æ˜¯å¦æœ‰ç¯€æ—¥
	               if (foundTodayHoliday) { // å¦‚æœä»Šå¤©æœ‰ç¯€æ—¥
	                   currentHolidayName = foundTodayHoliday.name; // è¨­å®šç•¶å‰ç¯€æ—¥åç¨±
	               } else { // å¦‚æœä»Šå¤©æ²’æœ‰ç¯€æ—¥
	                   nextHolidayInfo = holidays.find(h => h.date > now); // æŸ¥æ‰¾ä¸‹ä¸€å€‹ç¯€æ—¥
	                   if (nextHolidayInfo) { // å¦‚æœæ‰¾åˆ°ä¸‹ä¸€å€‹ç¯€æ—¥
	                      const diffTime = nextHolidayInfo.date.getTime() - now.getTime(); // è¨ˆç®—æ™‚é–“å·®
	                      nextHolidayInfo.daysUntil = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); // è¨ˆç®—è·é›¢å¤©æ•¸
	                   }
	               }

	               let holidayCountdownText = ''; // ç¯€æ—¥å€’æ•¸æ–‡å­—
	               if (displaySettings.showHolidays) { // å¦‚æœé¡¯ç¤ºç¯€æ—¥
	                   if (currentHolidayName) { // å¦‚æœæœ‰ç•¶å‰ç¯€æ—¥
	                       holidayCountdownText = `${currentHolidayName}`; // é¡¯ç¤ºç•¶å‰ç¯€æ—¥åç¨±
	                   } else if (nextHolidayInfo) { // å¦‚æœæœ‰ä¸‹ä¸€å€‹ç¯€æ—¥
	                       holidayCountdownText = `${nextHolidayInfo.daysUntil}â¡${nextHolidayInfo.name}`; // é¡¯ç¤ºè·é›¢å¤©æ•¸å’Œç¯€æ—¥åç¨±
	                   }
	               }

	               let marqueeParts = []; // è·‘é¦¬ç‡ˆå…§å®¹çš„å„éƒ¨åˆ†é™£åˆ—
	               if(jieQiText) marqueeParts.push(`<span style="color: ${displaySettings.jieqiColor};">${jieQiText}<\/span>`); // å¦‚æœæœ‰ç¯€æ°£æ–‡å­—ï¼Œå‰‡æ·»åŠ ç¯€æ°£HTML
	               if(holidayCountdownText) marqueeParts.push(`<span style="color: ${displaySettings.holidayColor};">${holidayCountdownText}<\/span>`); // å¦‚æœæœ‰ç¯€æ—¥å€’æ•¸æ–‡å­—ï¼Œå‰‡æ·»åŠ ç¯€æ—¥HTML
	               combinedJieqiHolidayText = marqueeParts.join(''); // çµ„åˆç¯€æ°£å’Œç¯€æ—¥æ–‡å­—
	           }

	           const timeTextContainer = document.getElementById('timeTextContainer'); // æ™‚é–“æ–‡å­—å®¹å™¨
	           const hoursMinutesDisplay = document.getElementById('hoursMinutesDisplay'); // å°æ™‚åˆ†é˜é¡¯ç¤ºå…ƒç´ 
	           const secondsDisplay = document.getElementById('secondsDisplay'); // ç§’æ•¸é¡¯ç¤ºå…ƒç´ 
	           const amPmDisplay = document.getElementById('amPmDisplay'); // ä¸Šåˆ/ä¸‹åˆé¡¯ç¤ºå…ƒç´ 
	           const gregorianDateDisplay = document.getElementById('gregorianDateDisplay'); // å…¬æ›†æ—¥æœŸé¡¯ç¤ºå…ƒç´ 
	           const lunarDateDisplay = document.getElementById('lunarDateDisplay'); // è¾²æ›†æ—¥æœŸé¡¯ç¤ºå…ƒç´ 
	           const marqueeContainer = document.getElementById('jieqiHolidayMarqueeContainer'); // è·‘é¦¬ç‡ˆå®¹å™¨

	           timeTextContainer.style.color = displaySettings.textColor; // è¨­å®šæ™‚é–“æ–‡å­—é¡è‰²
	           hoursMinutesDisplay.textContent = hoursMinutes; // æ›´æ–°å°æ™‚åˆ†é˜é¡¯ç¤º
	           secondsDisplay.textContent = seconds; // æ›´æ–°ç§’æ•¸é¡¯ç¤º
	           amPmDisplay.textContent = amPmText; // æ›´æ–°ä¸Šåˆ/ä¸‹åˆé¡¯ç¤º
	           amPmDisplay.style.display = amPmText ? 'block' : 'none'; // æ ¹æ“šæ˜¯å¦æœ‰ä¸Šåˆ/ä¸‹åˆæ–‡å­—é¡¯ç¤ºæˆ–éš±è—

	           gregorianDateDisplay.innerHTML = gregorianParts.join(''); // æ›´æ–°å…¬æ›†æ—¥æœŸé¡¯ç¤º
	           gregorianDateDisplay.style.display = gregorianParts.length > 0 ? 'block' : 'none'; // æ ¹æ“šæ˜¯å¦æœ‰å…¬æ›†æ—¥æœŸå…§å®¹é¡¯ç¤ºæˆ–éš±è—

	           lunarDateDisplay.innerHTML = lunarParts.join(''); // æ›´æ–°è¾²æ›†æ—¥æœŸé¡¯ç¤º
	           lunarDateDisplay.style.display = lunarParts.length > 0 ? 'inline-block' : 'none'; // æ ¹æ“šæ˜¯å¦æœ‰è¾²æ›†æ—¥æœŸå…§å®¹é¡¯ç¤ºæˆ–éš±è—
	           
	           const marqueeIsVisible = displaySettings.showJieqi || displaySettings.showHolidays; // åˆ¤æ–·è·‘é¦¬ç‡ˆæ˜¯å¦å¯è¦‹
	           marqueeContainer.style.display = marqueeIsVisible ? 'block' : 'none'; // æ ¹æ“šæ˜¯å¦å¯è¦‹é¡¯ç¤ºæˆ–éš±è—è·‘é¦¬ç‡ˆå®¹å™¨
	           if(marqueeIsVisible) { // å¦‚æœè·‘é¦¬ç‡ˆå¯è¦‹
	               marqueeContainer.dataset.jieqiName = currentJieqiInfo ? currentJieqiInfo.name : ''; // è¨­å®šç¯€æ°£åç¨±æ•¸æ“šå±¬æ€§
	               marqueeContainer.dataset.jieqiDate = currentJieqiInfo ? currentJieqiInfo.date.toISOString() : ''; // è¨­å®šç¯€æ°£æ—¥æœŸæ•¸æ“šå±¬æ€§
	               marqueeContainer.dataset.daysUntilNextJieqi = tempDaysUntilNextJieqi !== -1 ? tempDaysUntilNextJieqi : ''; // è¨­å®šè·é›¢ç¯€æ°£å¤©æ•¸æ•¸æ“šå±¬æ€§
	               marqueeContainer.dataset.nextHolidayName = nextHolidayInfo ? nextHolidayInfo.name : ''; // è¨­å®šä¸‹ä¸€å€‹ç¯€æ—¥åç¨±æ•¸æ“šå±¬æ€§
	               marqueeContainer.dataset.nextHolidayDate = nextHolidayInfo ? nextHolidayInfo.date.toISOString() : ''; // è¨­å®šä¸‹ä¸€å€‹ç¯€æ—¥æ—¥æœŸæ•¸æ“šå±¬æ€§
	               marqueeContainer.dataset.nextHolidayDaysUntil = nextHolidayInfo ? nextHolidayInfo.daysUntil : ''; // è¨­å®šä¸‹ä¸€å€‹ç¯€æ—¥è·é›¢å¤©æ•¸æ•¸æ“šå±¬æ€§
	               marqueeContainer.dataset.currentHolidayName = currentHolidayName; // è¨­å®šç•¶å‰ç¯€æ—¥åç¨±æ•¸æ“šå±¬æ€§

	               if (lastMarqueeContent !== combinedJieqiHolidayText) { // å¦‚æœè·‘é¦¬ç‡ˆå…§å®¹æœ‰è®ŠåŒ–
	                   updateMarquee(combinedJieqiHolidayText); // æ›´æ–°è·‘é¦¬ç‡ˆ
	                   lastMarqueeContent = combinedJieqiHolidayText; // æ›´æ–°ä¸Šæ¬¡è·‘é¦¬ç‡ˆå…§å®¹
	               }
	           } else { // å¦‚æœè·‘é¦¬ç‡ˆä¸å¯è¦‹
	                if (lastMarqueeContent !== '') { // å¦‚æœä¸Šæ¬¡è·‘é¦¬ç‡ˆæœ‰å…§å®¹
	                   updateMarquee(''); // æ¸…ç©ºè·‘é¦¬ç‡ˆ
	                   lastMarqueeContent = ''; // æ¸…ç©ºä¸Šæ¬¡è·‘é¦¬ç‡ˆå…§å®¹
	                }
	           }
	       }

	       // éš¨æ©Ÿç§»å‹•æ—¥æœŸæ™‚é–“é¡¯ç¤ºå…ƒç´ 
	       function moveRandomly() {
	           const displayElement = document.getElementById('dateTimeDisplay'); // æ—¥æœŸæ™‚é–“é¡¯ç¤ºå…ƒç´ 
	           const viewportWidth = window.innerWidth; // è¦–å£å¯¬åº¦
	           const viewportHeight = window.innerHeight; // è¦–å£é«˜åº¦
	           const elementRect = displayElement.getBoundingClientRect(); // ç²å–å…ƒç´ çš„å¤§å°å’Œä½ç½®
	           const safeMargin = 20; // å®‰å…¨é‚Šè·ï¼Œé˜²æ­¢å…ƒç´ è¶…å‡ºè¦–å£

	           const maxX = (viewportWidth - elementRect.width) / 2 - safeMargin; // Xè»¸æœ€å¤§ç§»å‹•ç¯„åœ
	           const maxY = (viewportHeight - elementRect.height) / 2 - safeMargin; // Yè»¸æœ€å¤§ç§»å‹•ç¯„åœ

	           const newTargetX = Math.random() * (maxX * 2) - maxX; // éš¨æ©Ÿç”Ÿæˆæ–°çš„Xè»¸ç›®æ¨™ä½ç½®
	           const newTargetY = Math.random() * (maxY * 2) - maxY; // éš¨æ©Ÿç”Ÿæˆæ–°çš„Yè»¸ç›®æ¨™ä½ç½®

	           displayElement.style.transform = `translate(calc(-50% + ${newTargetX}px), calc(-60% + ${newTargetY}px))`; // è¨­å®šå…ƒç´ çš„transformå±¬æ€§ï¼Œå¯¦ç¾éš¨æ©Ÿç§»å‹•
	       }

	       // é‡è¨­æ—¥æœŸæ™‚é–“é¡¯ç¤ºå…ƒç´ çš„ä½ç½®
	       function resetPosition() {
	           const displayElement = document.getElementById('dateTimeDisplay'); // æ—¥æœŸæ™‚é–“é¡¯ç¤ºå…ƒç´ 
	           displayElement.style.transform = `translate(-50%, -60%)`; // é‡è¨­ç‚ºåˆå§‹ä¸­å¿ƒä½ç½®
	       }

	       // æ¢å¾©æ‰€æœ‰è¨­å®šç‚ºé è¨­å€¼
	       function restoreDefaults() {
	           displaySettings = { ...defaultDisplaySettings }; // å°‡ç•¶å‰è¨­å®šé‡è¨­ç‚ºé è¨­è¨­å®š
	           saveSettings(); // å„²å­˜è¨­å®š
	           updateSettingsModalUI(); // æ›´æ–°è¨­å®šå½ˆå‡ºè¦–çª—çš„UI
	           
	           scanlinePatternIsA = true; // é‡è¨­æƒæç·šæ¨¡å¼çš„ç‹€æ…‹
	           
	           if (displaySettings.enableMovement) { // å¦‚æœå•Ÿç”¨éš¨æ©Ÿç§»å‹•
	               moveRandomly(); // åŸ·è¡Œéš¨æ©Ÿç§»å‹•
	           } else {
	               resetPosition(); // å¦å‰‡é‡è¨­ä½ç½®
	           }

	           lastMarqueeContent = ''; // é‡è¨­è·‘é¦¬ç‡ˆå…§å®¹ï¼Œå¼·åˆ¶æ›´æ–°
	           updateDateTime(); // ç«‹å³å‘¼å« updateDateTime ä¾†å¥—ç”¨æ‰€æœ‰è®Šæ›´
	       }

	       // ç²å–ä¸€å€‹éš¨æ©Ÿçš„åå…­é€²åˆ¶é¡è‰²ç¢¼
	       function getRandomColor() {
	           return '#' + Math.floor(Math.random()*16777215).toString(16).padStart(6, '0'); // ç”Ÿæˆéš¨æ©Ÿé¡è‰²ç¢¼
	       }

	       // è¨­å®šæ‰€æœ‰é¡è‰²ç›¸é—œçš„è¨­å®šç‚ºéš¨æ©Ÿé¡è‰²
	       function setRandomColors() {
	           for (const key in displaySettings) { // éæ­·æ‰€æœ‰è¨­å®š
	               if (key.toLowerCase().includes('color')) { // å¦‚æœè¨­å®šåç¨±åŒ…å«'color'
	                   displaySettings[key] = getRandomColor(); // è¨­å®šç‚ºéš¨æ©Ÿé¡è‰²
	               }
	           }
	           saveSettings(); // å„²å­˜è¨­å®š
	           updateSettingsModalUI(); // æ›´æ–°è¨­å®šå½ˆå‡ºè¦–çª—çš„UI
	           updateDateTime(); // ç«‹å³æ›´æ–°æ—¥æœŸæ™‚é–“é¡¯ç¤º
	       }

	       // ç”Ÿæˆæœˆæ›†
	       function generateCalendar(year, month) {
	           const calendarGrid = document.getElementById('calendarGrid'); // æœˆæ›†ç¶²æ ¼å®¹å™¨
	           const calendarMonthYear = document.getElementById('calendarMonthYear'); // æœˆæ›†å¹´æœˆæ¨™é¡Œ
	           const weekdaysContainer = document.getElementById('calendarWeekdays'); // æ˜ŸæœŸå®¹å™¨
	           if(!calendarGrid || !calendarMonthYear || !weekdaysContainer) return; // å¦‚æœå…ƒç´ ä¸å­˜åœ¨å‰‡é€€å‡º

	           calendarGrid.innerHTML = ''; // æ¸…ç©ºç¶²æ ¼å…§å®¹
	           weekdaysContainer.innerHTML = ''; // æ¸…ç©ºæ˜ŸæœŸå…§å®¹

	           ['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­'].forEach(day => { // éæ­·æ˜ŸæœŸ
	               const weekdayEl = document.createElement('div'); // å‰µå»ºæ˜ŸæœŸå…ƒç´ 
	               weekdayEl.textContent = day; // è¨­å®šæ˜ŸæœŸæ–‡å­—
	               weekdaysContainer.appendChild(weekdayEl); // æ·»åŠ åˆ°æ˜ŸæœŸå®¹å™¨
	           });

	           calendarMonthYear.textContent = `${year}å¹´ ${month + 1}æœˆ`; // æ›´æ–°æœˆæ›†å¹´æœˆæ¨™é¡Œ

	           const firstDayOfMonth = new Date(year, month, 1).getDay(); // ç²å–ç•¶æœˆç¬¬ä¸€å¤©æ˜¯æ˜ŸæœŸå¹¾ (0-6)
	           const daysInMonth = new Date(year, month + 1, 0).getDate(); // ç²å–ç•¶æœˆçš„å¤©æ•¸
	           const today = new Date(); // ç²å–ä»Šå¤©æ—¥æœŸ

	           for (let i = 0; i < 42; i++) { // å¾ªç’°42æ¬¡ (6è¡Œ7åˆ—)
	               const dayCell = document.createElement('div'); // å‰µå»ºæ—¥æœŸå–®å…ƒæ ¼
	               dayCell.classList.add('calendar-day'); // æ·»åŠ é¡å
	               const dayNumber = i - firstDayOfMonth + 1; // è¨ˆç®—æ—¥æœŸæ•¸å­—

	               if (dayNumber > 0 && dayNumber <= daysInMonth) { // å¦‚æœæ˜¯ç•¶æœˆçš„æ—¥æœŸ
	                   const currentDate = new Date(year, month, dayNumber); // å‰µå»ºç•¶å‰æ—¥æœŸç‰©ä»¶
	                   const lunar = Solar.fromDate(currentDate).getLunar(); // ç²å–è¾²æ›†æ—¥æœŸ
	                   dayCell.innerHTML = `
	                       <div class="gregorian-day">${dayNumber}<\/div>
	                       <div class="lunar-day">${lunar.getDay() === 1 ? lunar.getMonthInChinese().replace('é—°', 'é–') + 'æœˆ' : lunar.getDayInChinese()}<\/div>
	                   `; // è¨­å®šå…¬æ›†å’Œè¾²æ›†æ—¥æœŸå…§å®¹
	                   if (today.getFullYear() === year && today.getMonth() === month && dayNumber === today.getDate()) { // å¦‚æœæ˜¯ä»Šå¤©
	                       dayCell.classList.add('is-today'); // æ·»åŠ is-todayé¡å
	                   }
	               } else { // å¦‚æœä¸æ˜¯ç•¶æœˆçš„æ—¥æœŸ (å‰å¾Œæœˆä»½çš„ç©ºç™½æ ¼)
	                   dayCell.classList.add('other-month'); // æ·»åŠ other-monthé¡å
	               }
	               calendarGrid.appendChild(dayCell); // æ·»åŠ åˆ°æœˆæ›†ç¶²æ ¼
	           }
	       }

	       // ç”Ÿæˆå‘¨æ›†
	       function generateWeekCalendar(baseDate) {
	           const grid = document.getElementById('weeklyCalendarGrid'); // å‘¨æ›†ç¶²æ ¼å®¹å™¨
	           const title = document.getElementById('weeklyCalendarTitle'); // å‘¨æ›†æ¨™é¡Œ
	           if (!grid || !title) return; // å¦‚æœå…ƒç´ ä¸å­˜åœ¨å‰‡é€€å‡º

	           grid.innerHTML = ''; // æ¸…ç©ºç¶²æ ¼å…§å®¹
	           const today = new Date(); // ç²å–ä»Šå¤©æ—¥æœŸ
	           const startOfWeek = new Date(baseDate); // è¤‡è£½åŸºæº–æ—¥æœŸ
	           startOfWeek.setDate(baseDate.getDate() - baseDate.getDay()); // è¨­å®šç‚ºæœ¬é€±çš„ç¬¬ä¸€å¤© (é€±æ—¥)

	           const endOfWeek = new Date(startOfWeek); // è¤‡è£½æœ¬é€±ç¬¬ä¸€å¤©
	           endOfWeek.setDate(startOfWeek.getDate() + 6); // è¨­å®šç‚ºæœ¬é€±çš„æœ€å¾Œä¸€å¤© (é€±å…­)

	           title.textContent = `${startOfWeek.getFullYear()}å¹´${startOfWeek.getMonth() + 1}æœˆ${startOfWeek.getDate()}æ—¥ - ${endOfWeek.getFullYear()}å¹´${endOfWeek.getMonth() + 1}æœˆ${endOfWeek.getDate()}æ—¥`; // æ›´æ–°å‘¨æ›†æ¨™é¡Œ

	           const weekdays = ['å‘¨æ—¥', 'å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­']; // æ˜ŸæœŸåç¨±é™£åˆ—

	           for (let i = 0; i < 7; i++) { // å¾ªç’°7å¤©
	               const day = new Date(startOfWeek); // è¤‡è£½æœ¬é€±ç¬¬ä¸€å¤©
	               day.setDate(startOfWeek.getDate() + i); // è¨­å®šç‚ºæœ¬é€±çš„æ¯ä¸€å¤©
	               
	               const dayCell = document.createElement('div'); // å‰µå»ºæ—¥æœŸå–®å…ƒæ ¼
	               dayCell.classList.add('weekly-calendar-day'); // æ·»åŠ é¡å

	               if (day.toDateString() === today.toDateString()) { // å¦‚æœæ˜¯ä»Šå¤©
	                   dayCell.classList.add('is-today'); // æ·»åŠ is-todayé¡å
	               }

	               const lunar = Solar.fromDate(day).getLunar(); // ç²å–è¾²æ›†æ—¥æœŸ
	               
	               dayCell.innerHTML = `
	                   <div class="weekly-day-header">${weekdays[i]}<\/div>
	                   <div class="weekly-gregorian-day">${day.getDate()}<\/div>
	                   <div class="weekly-lunar-day">${lunar.getDay() === 1 ? lunar.getMonthInChinese().replace('é—°', 'é–') + 'æœˆ' : lunar.getDayInChinese()}<\/div>
	               `; // è¨­å®šæ˜ŸæœŸã€å…¬æ›†æ—¥æœŸå’Œè¾²æ›†æ—¥æœŸå…§å®¹
	               grid.appendChild(dayCell); // æ·»åŠ åˆ°å‘¨æ›†ç¶²æ ¼
	           }
	       }

	       // ç”Ÿæˆå¹´æ›†
	       function generateYearCalendar(year) {
	           const grid = document.getElementById('yearlyCalendarGrid'); // å¹´æ›†ç¶²æ ¼å®¹å™¨
	           const title = document.getElementById('yearlyCalendarTitle'); // å¹´æ›†æ¨™é¡Œ
	           if (!grid || !title) return; // å¦‚æœå…ƒç´ ä¸å­˜åœ¨å‰‡é€€å‡º

	           grid.innerHTML = ''; // æ¸…ç©ºç¶²æ ¼å…§å®¹
	           title.textContent = `${year}å¹´`; // æ›´æ–°å¹´æ›†æ¨™é¡Œ
	           const today = new Date(); // ç²å–ä»Šå¤©æ—¥æœŸ
	           const weekdays = ['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­']; // æ˜ŸæœŸåç¨±é™£åˆ—

	           for (let month = 0; month < 12; month++) { // å¾ªç’°12å€‹æœˆ
	               const monthContainer = document.createElement('div'); // å‰µå»ºæœˆä»½å®¹å™¨
	               monthContainer.classList.add('yearly-month-container'); // æ·»åŠ é¡å

	               const monthHeader = document.createElement('div'); // å‰µå»ºæœˆä»½æ¨™é¡Œ
	               monthHeader.classList.add('yearly-month-header'); // æ·»åŠ é¡å
	               monthHeader.textContent = `${month + 1}æœˆ`; // è¨­å®šæœˆä»½æ–‡å­—
	               monthContainer.appendChild(monthHeader); // æ·»åŠ åˆ°æœˆä»½å®¹å™¨

	               const weekdaysDiv = document.createElement('div'); // å‰µå»ºæ˜ŸæœŸé¡¯ç¤ºå®¹å™¨
	               weekdaysDiv.classList.add('yearly-weekdays'); // æ·»åŠ é¡å
	               weekdays.forEach(day => { // éæ­·æ˜ŸæœŸ
	                   const weekdayEl = document.createElement('div'); // å‰µå»ºæ˜ŸæœŸå…ƒç´ 
	                   weekdayEl.textContent = day; // è¨­å®šæ˜ŸæœŸæ–‡å­—
	                   weekdaysDiv.appendChild(weekdayEl); // æ·»åŠ åˆ°æ˜ŸæœŸé¡¯ç¤ºå®¹å™¨
	               });
	               monthContainer.appendChild(weekdaysDiv); // æ·»åŠ åˆ°æœˆä»½å®¹å™¨

	               const dayGrid = document.createElement('div'); // å‰µå»ºæ—¥æœŸç¶²æ ¼
	               dayGrid.classList.add('yearly-day-grid'); // æ·»åŠ é¡å

	               const firstDayOfMonth = new Date(year, month, 1).getDay(); // ç²å–ç•¶æœˆç¬¬ä¸€å¤©æ˜¯æ˜ŸæœŸå¹¾
	               const daysInMonth = new Date(year, month + 1, 0).getDate(); // ç²å–ç•¶æœˆçš„å¤©æ•¸

	               for (let i = 0; i < firstDayOfMonth; i++) { // å¡«å……ç•¶æœˆç¬¬ä¸€å¤©ä¹‹å‰çš„ç©ºç™½æ ¼
	                   const emptyCell = document.createElement('div'); // å‰µå»ºç©ºç™½å–®å…ƒæ ¼
	                   dayGrid.appendChild(emptyCell); // æ·»åŠ åˆ°æ—¥æœŸç¶²æ ¼
	               }

	               for (let day = 1; day <= daysInMonth; day++) { // å¾ªç’°ç•¶æœˆçš„å¤©æ•¸
	                   const dayCell = document.createElement('div'); // å‰µå»ºæ—¥æœŸå–®å…ƒæ ¼
	                   dayCell.classList.add('yearly-day'); // æ·»åŠ é¡å
	                   dayCell.textContent = day; // è¨­å®šæ—¥æœŸæ•¸å­—
	                   if (today.getFullYear() === year && today.getMonth() === month && day === today.getDate()) { // å¦‚æœæ˜¯ä»Šå¤©
	                       dayCell.classList.add('is-today'); // æ·»åŠ is-todayé¡å
	                   }
	                   dayGrid.appendChild(dayCell); // æ·»åŠ åˆ°æ—¥æœŸç¶²æ ¼
	               }
	               monthContainer.appendChild(dayGrid); // æ·»åŠ åˆ°æœˆä»½å®¹å™¨
	               grid.appendChild(monthContainer); // æ·»åŠ åˆ°å¹´æ›†ç¶²æ ¼
	           }
	       }

	       // é é¢è¼‰å…¥å®Œæˆå¾ŒåŸ·è¡Œ
	       window.onload = function () {
	           loadSettings(); // è¼‰å…¥å„²å­˜çš„è¨­å®š
	           
	           updateSettingsModalUI(); // æ›´æ–°è¨­å®šå½ˆå‡ºè¦–çª—çš„UI
	           updateDateTime(); // é¦–æ¬¡æ›´æ–°æ—¥æœŸæ™‚é–“é¡¯ç¤º
	           setInterval(updateDateTime, 1000); // æ¯ç§’æ›´æ–°ä¸€æ¬¡æ—¥æœŸæ™‚é–“é¡¯ç¤º

	           if (!displaySettings.enableMovement) { // å¦‚æœæœªå•Ÿç”¨éš¨æ©Ÿç§»å‹•
	               resetPosition(); // é‡è¨­ä½ç½®
	           }

	           document.querySelectorAll('.modal').forEach(modal => { // éæ­·æ‰€æœ‰å½ˆå‡ºè¦–çª—
	               const closeButton = modal.querySelector('.action-button[id^="close"], .action-button[id^="done"]'); // ç²å–é—œé–‰æŒ‰éˆ•
	               if (closeButton) {
	                   closeButton.onclick = () => modal.classList.remove('is-active'); // é»æ“Šé—œé–‰æŒ‰éˆ•æ™‚éš±è—å½ˆå‡ºè¦–çª—
	               }
	               modal.addEventListener('click', (event) => { // ç›£è½å½ˆå‡ºè¦–çª—é»æ“Šäº‹ä»¶
	                   if (event.target === modal) { // å¦‚æœé»æ“Šçš„æ˜¯å½ˆå‡ºè¦–çª—èƒŒæ™¯
	                       modal.classList.remove('is-active'); // éš±è—å½ˆå‡ºè¦–çª—
	                   }
	               });
	           });

	           document.getElementById('prevMonthBtn').onclick = () => { // ä¸Šä¸€å€‹æœˆæŒ‰éˆ•é»æ“Šäº‹ä»¶
	               calendarDate.setMonth(calendarDate.getMonth() - 1); // æœˆä»½æ¸›1
	               generateCalendar(calendarDate.getFullYear(), calendarDate.getMonth()); // ç”Ÿæˆæ–°çš„æœˆæ›†
	           };
	           document.getElementById('nextMonthBtn').onclick = () => { // ä¸‹ä¸€å€‹æœˆæŒ‰éˆ•é»æ“Šäº‹ä»¶
	               calendarDate.setMonth(calendarDate.getMonth() + 1); // æœˆä»½åŠ 1
	               generateCalendar(calendarDate.getFullYear(), calendarDate.getMonth()); // ç”Ÿæˆæ–°çš„æœˆæ›†
	           };
	           
	           document.getElementById('prevWeekBtn').onclick = () => { // ä¸Šä¸€å‘¨æŒ‰éˆ•é»æ“Šäº‹ä»¶
	               weeklyCalendarDate.setDate(weeklyCalendarDate.getDate() - 7); // æ—¥æœŸæ¸›7å¤©
	               generateWeekCalendar(weeklyCalendarDate); // ç”Ÿæˆæ–°çš„å‘¨æ›†
	           };
	           document.getElementById('nextWeekBtn').onclick = () => { // ä¸‹ä¸€å‘¨æŒ‰éˆ•é»æ“Šäº‹ä»¶
	               weeklyCalendarDate.setDate(weeklyCalendarDate.getDate() + 7); // æ—¥æœŸåŠ 7å¤©
	               generateWeekCalendar(weeklyCalendarDate); // ç”Ÿæˆæ–°çš„å‘¨æ›†
	           };
	           
	           document.getElementById('prevYearBtn').onclick = () => { // ä¸Šä¸€å¹´æŒ‰éˆ•é»æ“Šäº‹ä»¶
	               yearlyCalendarDate.setFullYear(yearlyCalendarDate.getFullYear() - 1); // å¹´ä»½æ¸›1
	               generateYearCalendar(yearlyCalendarDate.getFullYear()); // ç”Ÿæˆæ–°çš„å¹´æ›†
	           };
	           document.getElementById('nextYearBtn').onclick = () => { // ä¸‹ä¸€å¹´æŒ‰éˆ•é»æ“Šäº‹ä»¶
	               yearlyCalendarDate.setFullYear(yearlyCalendarDate.getFullYear() + 1); // å¹´ä»½åŠ 1
	               generateYearCalendar(yearlyCalendarDate.getFullYear()); // ç”Ÿæˆæ–°çš„å¹´æ›†
	           };

	           document.querySelectorAll('.switch input[type="checkbox"]').forEach(toggle => { // éæ­·æ‰€æœ‰é–‹é—œè¼¸å…¥æ¡†
	               toggle.onchange = (event) => { // ç›£è½é–‹é—œç‹€æ…‹è®ŠåŒ–
	                   displaySettings[event.target.id] = event.target.checked; // æ›´æ–°å°æ‡‰çš„è¨­å®šå€¼
	                   
	                   if (event.target.id === 'enableMovement' && !event.target.checked) { // å¦‚æœæ˜¯éš¨æ©Ÿç§»å‹•é–‹é—œä¸”è¢«é—œé–‰
	                       resetPosition(); // é‡è¨­ä½ç½®
	                   }
	                   
	                   saveSettings(); // å„²å­˜è¨­å®š
	                   lastMarqueeContent = ''; // æ¸…ç©ºè·‘é¦¬ç‡ˆå…§å®¹ï¼Œå¼·åˆ¶æ›´æ–°
	                   updateDateTime(); // ç«‹å³æ›´æ–°ä¸€æ¬¡ä»¥åæ˜ é–‹é—œè®ŠåŒ–
	               };
	           });

	           document.querySelectorAll('input[type="color"]').forEach(colorInput => { // éæ­·æ‰€æœ‰é¡è‰²è¼¸å…¥æ¡†
	               colorInput.oninput = (event) => { // ç›£è½é¡è‰²è®ŠåŒ–
	                   displaySettings[event.target.id] = event.target.value; // æ›´æ–°å°æ‡‰çš„è¨­å®šå€¼
	                   saveSettings(); // å„²å­˜è¨­å®š
	                   updateDateTime(); // ç«‹å³æ›´æ–°æ—¥æœŸæ™‚é–“é¡¯ç¤º
	               };
	           });

	           document.getElementById('restoreDefaultsBtn').onclick = restoreDefaults; // æ¢å¾©é è¨­æŒ‰éˆ•é»æ“Šäº‹ä»¶
	           document.getElementById('randomColorsBtn').onclick = setRandomColors; // éš¨æ©Ÿé¡è‰²æŒ‰éˆ•é»æ“Šäº‹ä»¶

	           document.getElementById('dateTimeDisplay').addEventListener('click', function(event) { // æ—¥æœŸæ™‚é–“é¡¯ç¤ºå€åŸŸé»æ“Šäº‹ä»¶
	               const now = new Date(); // ç²å–ç•¶å‰æ—¥æœŸæ™‚é–“
	               const solar = Solar.fromDate(now); // ç²å–å…¬æ›†ç‰©ä»¶
	               const lunar = solar.getLunar(); // ç²å–è¾²æ›†ç‰©ä»¶

	               const secondsElement = event.target.closest('#secondsDisplay'); // é»æ“Šæ˜¯å¦åœ¨ç§’æ•¸å…ƒç´ ä¸Š
	               const lunarDayElement = event.target.closest('.lunar-day-target'); // é»æ“Šæ˜¯å¦åœ¨è¾²æ›†æ—¥å…ƒç´ ä¸Š
	               const lunarShiChenElement = event.target.closest('.lunar-shichen-target'); // é»æ“Šæ˜¯å¦åœ¨è¾²æ›†æ™‚è¾°å…ƒç´ ä¸Š
	               const jieqiMarqueeElement = event.target.closest('#jieqiHolidayMarqueeContainer'); // é»æ“Šæ˜¯å¦åœ¨ç¯€æ°£/ç¯€æ—¥è·‘é¦¬ç‡ˆå®¹å™¨ä¸Š
	               const weekdayElement = event.target.closest('.weekday-target'); // é»æ“Šæ˜¯å¦åœ¨æ˜ŸæœŸå…ƒç´ ä¸Š
	               const gregorianDateElement = event.target.closest('.gregorian-date-text:not(.gregorian-year-target)'); // é»æ“Šæ˜¯å¦åœ¨å…¬æ›†æ—¥æœŸå…ƒç´ ä¸Š (æ’é™¤å¹´ä»½)
	               const lunarDateElement = event.target.closest('.lunar-date-static-text:not(.lunar-year-target)'); // é»æ“Šæ˜¯å¦åœ¨è¾²æ›†æ—¥æœŸå…ƒç´ ä¸Š (æ’é™¤å¹´ä»½)
	               const gregorianYearElement = event.target.closest('.gregorian-year-target'); // é»æ“Šæ˜¯å¦åœ¨å…¬æ›†å¹´å…ƒç´ ä¸Š
	               const lunarYearElement = event.target.closest('.lunar-year-target'); // é»æ“Šæ˜¯å¦åœ¨è¾²æ›†å¹´å…ƒç´ ä¸Š

	               if (secondsElement) { // å¦‚æœé»æ“Šç§’æ•¸å…ƒç´ 
	                   document.getElementById('settingsModal').classList.add('is-active'); // é¡¯ç¤ºè¨­å®šå½ˆå‡ºè¦–çª—
	                   updateSettingsModalUI(); // æ›´æ–°è¨­å®šå½ˆå‡ºè¦–çª—çš„UI
	               } else if (lunarDayElement) { // å¦‚æœé»æ“Šè¾²æ›†æ—¥å…ƒç´ 
	                   const yijiHtml = `
	                       <p><strong>è¾²æ›†æ—¥æœŸï¼š<\/strong> ${lunar.getMonthInChinese().replace('é—°', 'é–')}æœˆ${lunar.getDayInChinese()}<\/p>
	                       <p style="margin-top: 15px;"><strong>å®œï¼š<\/strong> ${lunar.getDayYi().join('ã€') || 'ç„¡'}<\/p>
	                       <p style="margin-top: 15px;"><strong>å¿Œï¼š<\/strong> ${lunar.getDayJi().join('ã€') || 'ç„¡'}<\/p>
	                       <p style="margin-top: 15px; font-size: 0.9em; color: #aaa;">æ¯æ—¥å®œå¿Œåƒ…ä¾›åƒè€ƒï¼Œè«‹å‹¿éåº¦è¿·ä¿¡ã€‚<\/p>`; // å®œå¿Œè³‡è¨ŠHTMLå…§å®¹
	                   document.getElementById('yijiDetailsContent').innerHTML = yijiHtml; // è¨­å®šå®œå¿Œå…§å®¹
	                   document.getElementById('yijiDetailsModal').classList.add('is-active'); // é¡¯ç¤ºå®œå¿Œå½ˆå‡ºè¦–çª—
	               } else if (lunarShiChenElement) { // å¦‚æœé»æ“Šè¾²æ›†æ™‚è¾°å…ƒç´ 
	                   const yijiHtml = `
	                       <p><strong>æ™‚è¾°ï¼š<\/strong> ${getShiChen(now.getHours())}æ™‚<\/p>
	                       <p style="margin-top: 15px;"><strong>å®œï¼š<\/strong> ${lunar.getTimeYi().join('ã€') || 'ç„¡'}<\/p>
	                       <p style="margin-top: 15px;"><strong>å¿Œï¼š<\/strong> ${lunar.getTimeJi().join('ã€') || 'ç„¡'}<\/p>
	                       <p style="margin-top: 15px; font-size: 0.9em; color: #aaa;">æ™‚è¾°å®œå¿Œåƒ…ä¾›åƒè€ƒï¼Œè«‹å‹¿éåº¦è¿·ä¿¡ã€‚<\/p>`; // æ™‚è¾°å®œå¿Œè³‡è¨ŠHTMLå…§å®¹
	                   document.getElementById('yijiDetailsContent').innerHTML = yijiHtml; // è¨­å®šå®œå¿Œå…§å®¹
	                   document.getElementById('yijiDetailsModal').classList.add('is-active'); // é¡¯ç¤ºå®œå¿Œå½ˆå‡ºè¦–çª—
	               } else if (jieqiMarqueeElement) { // å¦‚æœé»æ“Šç¯€æ°£/ç¯€æ—¥è·‘é¦¬ç‡ˆ
	                   const jieqiName = jieqiMarqueeElement.dataset.jieqiName; // ç²å–ç¯€æ°£åç¨±
	                   const jieqiDateStr = jieqiMarqueeElement.dataset.jieqiDate; // ç²å–ç¯€æ°£æ—¥æœŸå­—ä¸²
	                   const daysUntilJieqi = jieqiMarqueeElement.dataset.daysUntilNextJieqi; // ç²å–è·é›¢ç¯€æ°£å¤©æ•¸
	                   const holidayName = jieqiMarqueeElement.dataset.nextHolidayName; // ç²å–ä¸‹ä¸€å€‹ç¯€æ—¥åç¨±
	                   const holidayDateStr = jieqiMarqueeElement.dataset.nextHolidayDate; // ç²å–ä¸‹ä¸€å€‹ç¯€æ—¥æ—¥æœŸå­—ä¸²
	                   const daysUntilHoliday = jieqiMarqueeElement.dataset.nextHolidayDaysUntil; // ç²å–ä¸‹ä¸€å€‹ç¯€æ—¥è·é›¢å¤©æ•¸
	                   const currentHoliday = jieqiMarqueeElement.dataset.currentHolidayName; // ç²å–ç•¶å‰ç¯€æ—¥åç¨±
	                   
	                   let detailsHtml = ''; // è©³æƒ…HTMLå…§å®¹
	                   if (jieqiName && jieqiDateStr) { // å¦‚æœæœ‰ç¯€æ°£è³‡è¨Š
	                       const date = new Date(jieqiDateStr); // å‰µå»ºç¯€æ°£æ—¥æœŸç‰©ä»¶
	                       const formattedDate = `${date.getFullYear()}å¹´${(date.getMonth() + 1)}æœˆ${date.getDate()}æ—¥`; // æ ¼å¼åŒ–ç¯€æ°£æ—¥æœŸ
	                       detailsHtml += (parseInt(daysUntilJieqi) === 0)
	                           ? `<p>ä»Šå¤© <strong>${jieqiName}<\/strong><\/p>`
	                           : `<p>${formattedDate} <strong>${jieqiName}<\/strong> é‚„æœ‰${daysUntilJieqi}å¤©<\/p>`; // é¡¯ç¤ºç¯€æ°£è³‡è¨Š
	                       detailsHtml += `<p style="margin-top: 10px; font-size: 1.2em;">${getJieqiDescription(jieqiName)}<\/p>`; // é¡¯ç¤ºç¯€æ°£æè¿°
	                   } else {
	                       detailsHtml += `<p>ç›®å‰æ²’æœ‰ç¯€æ°£è³‡è¨Šã€‚<\/p>`; // æ²’æœ‰ç¯€æ°£è³‡è¨Šæ™‚é¡¯ç¤ºè¨Šæ¯
	                   }

	                   detailsHtml += `<hr style="margin: 20px 0; border-color: #555;">`; // åˆ†éš”ç·š

	                   if (currentHoliday) { // å¦‚æœæœ‰ç•¶å‰ç¯€æ—¥
	                       detailsHtml += `<p>ä»Šå¤© <strong>${currentHoliday}<\/strong><\/p>`; // é¡¯ç¤ºç•¶å‰ç¯€æ—¥
	                   } else if (holidayName && holidayDateStr) { // å¦‚æœæœ‰ä¸‹ä¸€å€‹ç¯€æ—¥è³‡è¨Š
	                       const date = new Date(holidayDateStr); // å‰µå»ºç¯€æ—¥æ—¥æœŸç‰©ä»¶
	                       const formattedDate = `${date.getFullYear()}å¹´${(date.getMonth() + 1)}æœˆ${date.getDate()}æ—¥`; // æ ¼å¼åŒ–ç¯€æ—¥æ—¥æœŸ
	                       detailsHtml += `<p>${formattedDate} <strong>${holidayName}<\/strong> é‚„æœ‰${daysUntilHoliday}å¤©<\/p>`; // é¡¯ç¤ºç¯€æ—¥è³‡è¨Š
	                   } else {
	                       detailsHtml += `<p>ç›®å‰æ²’æœ‰ç¯€æ—¥è³‡è¨Šã€‚<\/p>`; // æ²’æœ‰ç¯€æ—¥è³‡è¨Šæ™‚é¡¯ç¤ºè¨Šæ¯
	                   }

	                   document.getElementById('jieqiDetailsContent').innerHTML = detailsHtml; // è¨­å®šç¯€æ°£/ç¯€æ—¥è©³æƒ…å…§å®¹
	                   document.getElementById('jieqiDetailsModal').classList.add('is-active'); // é¡¯ç¤ºç¯€æ°£/ç¯€æ—¥å½ˆå‡ºè¦–çª—
	               } else if (gregorianYearElement || lunarYearElement) { // å¦‚æœé»æ“Šå…¬æ›†å¹´æˆ–è¾²æ›†å¹´
	                   yearlyCalendarDate = new Date(); // é‡è¨­å¹´æ›†æ—¥æœŸç‚ºç•¶å‰æ—¥æœŸ
	                   generateYearCalendar(yearlyCalendarDate.getFullYear()); // ç”Ÿæˆå¹´æ›†
	                   document.getElementById('yearlyCalendarModal').classList.add('is-active'); // é¡¯ç¤ºå¹´æ›†å½ˆå‡ºè¦–çª—
	               } else if (weekdayElement) { // å¦‚æœé»æ“Šæ˜ŸæœŸå…ƒç´ 
	                   weeklyCalendarDate = new Date(); // é‡è¨­å‘¨æ›†æ—¥æœŸç‚ºç•¶å‰æ—¥æœŸ
	                   generateWeekCalendar(weeklyCalendarDate); // ç”Ÿæˆå‘¨æ›†
	                   document.getElementById('weeklyCalendarModal').classList.add('is-active'); // é¡¯ç¤ºå‘¨æ›†å½ˆå‡ºè¦–çª—
	               } else if (gregorianDateElement || lunarDateElement) { // å¦‚æœé»æ“Šå…¬æ›†æ—¥æœŸæˆ–è¾²æ›†æ—¥æœŸ
	                   calendarDate = new Date(); // é‡è¨­æœˆæ›†æ—¥æœŸç‚ºç•¶å‰æ—¥æœŸ
	                   generateCalendar(calendarDate.getFullYear(), calendarDate.getMonth()); // ç”Ÿæˆæœˆæ›†
	                   document.getElementById('calendarModal').classList.add('is-active'); // é¡¯ç¤ºæœˆæ›†å½ˆå‡ºè¦–çª—
	               }
	           });

               // --- å…¨è¢å¹•åŠŸèƒ½ ---
               const fullscreenIcon = document.getElementById('fullscreen-icon');
               const docElement = document.documentElement;

               function toggleFullScreen() {
                   const isFullscreen = document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;

                   if (!isFullscreen) {
                       // é€²å…¥å…¨è¢å¹•
                       const requestMethod = docElement.requestFullscreen || docElement.webkitRequestFullscreen || docElement.mozRequestFullScreen || docElement.msRequestFullscreen;
                       if (requestMethod) {
                           // å‘¼å« requestFullscreen æœƒè¿”å›ä¸€å€‹ Promise
                           requestMethod.call(docElement).catch(err => {
                               // æ•æ‰å› æ¬Šé™å•é¡Œç­‰å°è‡´çš„å¤±æ•—ï¼Œä¸¦åœ¨æ§åˆ¶å°é¡¯ç¤ºè­¦å‘Š
                               console.warn(`ç„¡æ³•é€²å…¥å…¨è¢å¹•æ¨¡å¼: ${err.name} - ${err.message}`);
                           });
                       }
                   } else {
                        // é€€å‡ºå…¨è¢å¹•
                       const exitMethod = document.exitFullscreen || document.webkitExitFullscreen || document.mozCancelFullScreen || document.msExitFullscreen;
                       if (exitMethod) {
                           // å‘¼å« exitFullscreen ä¹Ÿæœƒè¿”å›ä¸€å€‹ Promise
                           exitMethod.call(document).catch(err => {
                               console.warn(`ç„¡æ³•é€€å‡ºå…¨è¢å¹•æ¨¡å¼: ${err.name} - ${err.message}`);
                           });
                       }
                   }
               }

               fullscreenIcon.addEventListener('click', toggleFullScreen);

               function handleFullscreenChange() {
                   const isFullscreen = document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;
                   if (isFullscreen) {
                       fullscreenIcon.style.display = 'none';
                   } else {
                       fullscreenIcon.style.display = 'block';
                   }
                   
                   // åœ¨å…¨è¢å¹•åˆ‡æ›å¾Œï¼Œå¼·åˆ¶æ›´æ–°è·‘é¦¬ç‡ˆä»¥è§£æ±º iOS ä¸Šçš„å‹•ç•«æš«åœå•é¡Œ
                   if (lastMarqueeContent) {
                       updateMarquee(lastMarqueeContent);
                   }
               }

               document.addEventListener('fullscreenchange', handleFullscreenChange);
               document.addEventListener('webkitfullscreenchange', handleFullscreenChange);
               document.addEventListener('mozfullscreenchange', handleFullscreenChange);
               document.addEventListener('MSFullscreenChange', handleFullscreenChange);
               // --- å…¨è¢å¹•åŠŸèƒ½çµæŸ ---
	       };
	</script>
</body>
</html>
